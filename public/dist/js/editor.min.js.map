{"version":3,"sources":["lib/api.js","lib/utils/content-type-view-provider.js","lib/view/particle.js","lib/view/particle-stream-preview.js","lib/view/particle-editor.js","lib/utils/events.js","lib/application.js","../../node_modules/trumbowyg/dist/trumbowyg.js","../../node_modules/trumbowyg/plugins/emoji/trumbowyg.emoji.js","../../node_modules/trumbowyg/plugins/history/trumbowyg.history.js","../../node_modules/trumbowyg/plugins/cleanpaste/trumbowyg.cleanpaste.js","../../node_modules/trumbowyg/plugins/allowtagsfrompaste/trumbowyg.allowtagsfrompaste.js","../../node_modules/trumbowyg/plugins/colors/trumbowyg.colors.js","lib/view/icons.js","lib/view/content-type.js","lib/view/content-type--html.js","lib/view/content-type--title.js","lib/view/content-type--upload.js","editor.js","../../node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["esc","encodeURIComponent","getSanitizeParams","unix_timestamp","tags","output","params","parseInt","Error","map","getParamsString","Object","keys","param","val","v","join","getSanitizedParamsString","publicApi","config","routes","last_request_timestamp","resolveParticles","res","json","then","request_timestamp","particles","fetchParticles","fetch","getParticles","method","catch","console","error","fetchParticlesUpdate","p","resetLastRequestTimestamp","PublicApi","api","adminApi","wp_rest_nonce","pApi","requestWithNonce","route","data","headers","credentials","body","JSON","stringify","resolveNonce","postWithNonce","deleteWithNonce","attachmentCache","updateParticle","particle","deleteParticle","particle_id","fetchAttachment","attachment_id","Promise","resolve","attachment","id","uploadAttachment","form","onRightBeforeUpload","reject","formData","FormData","$","ajax","url","upload","cache","contentType","processData","success","AdminApi","contentTypeViewProvider","contentTypes","addContentType","_type","cls","find","slug","push","type","getContentView","found","log","add","get","particlePreview","onEdit","onCancelEdit","onDelete","created_timestamp","author","author_id","created","Date","$header","toLocaleDateString","toLocaleTimeString","$content","addClass","append","contentViews","view","preview$","$footer","on","e","preventDefault","setLoading","isEditing","$preview","hasClass","syncContentWithViews","setEditing","i","hasOwnProperty","setValue","contents","content","$loading","appendTo","$spinner","isLoading","removeClass","text","get$","particleStreamPreview","contentTypeProvider","streamParticlesViews","$el","isInPreviewStream","findIndex","getPreviewStreamParticleView","buildPreviewStreamParticleView","contentView","filter","removeParticleById","particleId","slideUp","remove","resetEditing","update","reverse","inStream","is_deleted","indexOfView","newView","after","prepend","particleEditor","onSubmit","onReset","onCancel","authorId","$editor","$form","$contentViewElements","$tags","$tagList","renderTag","tag","renderTags","empty","$submit","attr","$reset","reset","$cancel","hide","insertAfter","setIsSaving","isSaving","getTagInputs$","removeAttr","c","setDisabled","getContents","getValue","addContent","_type_string_or_content_view","editor$","setContents","clearContentViews","getTags","index","input","prop","value","toArray","setTags","includes","setParticle","show","getId","getAuthorId","_events","listen","fn","undefined","_fn","trigger","payload","forEach","onAddParticle","triggerAddParticle","$particle","onUpdateParticle","triggerUpdateParticle","onRemoveParticle","triggerRemoveParticle","application","isSavingParticle","fetchingParticles","dom","$root","rootId","editor","values","particle_contents","particle_content_types","preview","setPreviewLoading","updatePreviewStream","settings","$previewHeader","$previewLoadingIndicator","deleted","updateTimeout","clearTimeout","setTimeout","events","init","svgUp","svgDown","svgMove","ContentType","$toolbar","isDisabled","prototype","ContentType_HTML","_tmp_val","$textarea","trumbowyg","LiveNews","html","ContentType_Title","ContentType_Upload","fetched_id","$input","setFetchingImages","setUploadingImage","submit","$wrapper","getEditorImg$","$delete","updateDeleteButton","isFetching","setFetchingImage","getImg$","isUploading","renderImage","$img","$editorImg","$imgWrapper","media_details","sizes","medium","source_url","replaceWith","renderImages","showDeleteImage","window","jQuery","app","OVERLAY_ID","OldModule","module","bundle","Module","moduleName","call","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","event","parse","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","every","generated","js","clear","hmrApply","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","message","stack","overlay","createErrorOverlay","document","appendChild","getElementById","createElement","stackTrace","innerText","innerHTML","getParents","modules","parents","k","d","dep","Array","isArray","length","concat","Function","deps","cached","some","cb"],"mappings":"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AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC93DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACz0CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACxPO,IAAMmD,KAAK,+UAAX;;AAKA,IAAMC,OAAO,6UAAb;;AAKA,IAAMC,OAAO,gkBAAb;;;;;;;;;;ACZP;;;;;;;;IAEaC;;;AAEZ,yBAAa;AAAA;;AACZ,SAAKjF,OAAL,GAAe3F,CAAC,CAAC,aAAD,CAAD,CAAiBoC,QAAjB,CAA0B,8CAA1B,CAAf;AACA,SAAKW,QAAL,GAAgB/C,CAAC,CAAC,aAAD,CAAD,CAAiBoC,QAAjB,CAA0B,gCAA1B,CAAhB;AACA;;;;8BAEQ;AAER,UAAG,CAAC,KAAKuD,OAAL,CAAaQ,KAAb,EAAJ,EAA0B,OAAO,KAAKR,OAAZ;AAE1B,WAAKkF,QAAL,GAAgB7K,CAAC,oOAKWyK,YALX,iJAQWE,cARX,+IAWWD,cAXX,+FAAjB;AAgBA,WAAK/E,OAAL,CAAatD,MAAb,CAAoB,KAAKwI,QAAzB;AAEA,aAAO,KAAKlF,OAAZ;AACA;;;+BAES;AACT,aAAO3F,CAAC,CAAC,MAAD,CAAD,CAAU6D,IAAV,CAAe,KAAKqD,QAAL,EAAf,CAAP;AACA;;;6BAEQU,OAAM,CAAE;;;+BAEP,CAAG;;;gCAEDkD,YAAW,CAEtB;;;;;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","file":"editor.min.js","sourceRoot":"../../src/js","sourcesContent":["\n/**\n * shorten function for internal usage\n */\nconst esc = encodeURIComponent;\n\n/**\n * sanitize params and only return valid params\n * @param unix_timestamp\n * @param tags\n * @param output\n */\nconst getSanitizeParams = (\n\t{\n\t\tunix_timestamp = null,\n\t\ttags = null,\n\t\toutput = \"json\",\n\t} = {}\n)=>{\n\n\tconst params = {};\n\n\tif(unix_timestamp !== null){\n\t\tparams.unix_timestamp = parseInt(unix_timestamp);\n\t}\n\n\tif(tags !== null){\n\t\tif(typeof tags !== typeof []) throw new Error(\"Tags need to be an array of strings\");\n\t\tparams.tags = tags.map(esc);\n\t}\n\n\tif(output !== \"html\") output = \"json\";\n\tparams.output = output;\n\n\treturn params;\n\n};\n\n/**\n * stringify params\n * @param params\n * @return {string}\n */\nconst getParamsString = (params)=>{\n\treturn Object\n\t\t.keys(params)\n\t\t.map(param => {\n\t\t\tconst val = params[param];\n\t\t\tif(typeof val === typeof []){\n\t\t\t\treturn val.map(v=> `${param}[]=${v}`).join(\"&\");\n\t\t\t}\n\t\t\treturn param + \"=\" + params[param]\n\t\t})\n\t\t.join(\"&\");\n};\n\n/**\n * sanitize and stringify params\n * @param params\n * @return {string}\n */\nconst getSanitizedParamsString = (params)=>{\n\treturn getParamsString(getSanitizeParams(params));\n};\n\n\n/**\n * api for public use\n */\nexport const publicApi = (config) => {\n\n\tconst {routes} = config;\n\tlet last_request_timestamp = config.last_request_timestamp;\n\n\t/**\n\t * resolve particles response and save request timestamp\n\t * @param res\n\t * @return {*}\n\t */\n\tconst resolveParticles = (res)=>{\n\t\treturn res.json().then(json => {\n\t\t\tlast_request_timestamp = json.request_timestamp;\n\t\t\treturn json.particles;\n\t\t});\n\t};\n\n\treturn {\n\t\tfetchParticles: (params)=>{\n\t\t\treturn fetch(routes.getParticles+\"?\"+getSanitizedParamsString(params),{\n\t\t\t\tmethod: 'GET',\n\t\t\t\t})\n\t\t\t\t.then(resolveParticles)\n\t\t\t\t.catch(console.error);\n\t\t},\n\t\tfetchParticlesUpdate: (params)=>{\n\t\t\tconst p = {\n\t\t\t\tunix_timestamp: last_request_timestamp,\n\t\t\t\t...params,\n\t\t\t};\n\t\t\treturn fetch(routes.getParticles+\"?\"+getSanitizedParamsString(p))\n\t\t\t\t.then(resolveParticles)\n\t\t\t\t.catch(console.error);\n\t\t},\n\t\tresetLastRequestTimestamp: ()=>{\n\t\t\tlast_request_timestamp = 0;\n\t\t}\n\t}\n};\n\nexport class PublicApi{\n\tconstructor(config){\n\t\tthis.api = publicApi(config);\n\t\tthis.fetchParticles = this.api.fetchParticles;\n\t\tthis.fetchParticlesUpdate = this.api.fetchParticlesUpdate;\n\t\tthis.resetLastRequestTimestamp = this.api.resetLastRequestTimestamp;\n\t}\n\n\tfetchParticles(params){\n\t\treturn this.api.fetchParticles(params);\n\t}\n\n\tfetchParticlesUpdate(params){\n\t\treturn this.api.fetchParticlesUpdate(params);\n\t}\n\n\tresetLastRequestTimestamp(){\n\t\tthis.api.resetLastRequestTimestamp();\n\t}\n}\n\n/**\n * api for admin use\n */\nexport const adminApi = (config)=>{\n\n\tconst {routes} = config;\n\tlet wp_rest_nonce = config.wp_rest_nonce;\n\tconst pApi = publicApi(config);\n\n\t/**\n\t * post request to backend and save new nonce of response\n\t * @param {string} route\n\t * @param {object} data\n\t * @param {string} method\n\t * @return {Promise<any | void>}\n\t */\n\tconst requestWithNonce = (route, data, method)=> fetch(route,{\n\t\t\tmethod,\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t'X-WP-Nonce': wp_rest_nonce,\n\t\t\t},\n\t\t\tcredentials: 'include',\n\t\t\tbody: JSON.stringify(data),\n\t\t})\n\t\t\t.then(res => res.json())\n\t\t\t.then(resolveNonce)\n\t\t\t.catch(console.error);\n\n\tconst postWithNonce = (route, data) => requestWithNonce(route, data, \"POST\");\n\tconst deleteWithNonce = (route, data) => requestWithNonce(route, data, \"DELETE\");\n\n\n\tconst resolveNonce = (json) => {\n\t\twp_rest_nonce = json.wp_rest_nonce;\n\t\treturn json;\n\t};\n\n\tconst attachmentCache = {};\n\n\treturn {\n\t\t...pApi,\n\t\tupdateParticle: (particle)=>{\n\t\t\t// TODO: sanitize particle data\n\t\t\treturn postWithNonce(routes.updateParticle, particle).then(json=>json.particle);\n\t\t},\n\t\tdeleteParticle: (particle_id)=>{\n\t\t\treturn deleteWithNonce(routes.deleteParticle, {particle_id});\n\t\t},\n\t\tfetchAttachment: (attachment_id)=>{\n\t\t\tif(typeof attachmentCache[attachment_id] === typeof {}){\n\t\t\t\treturn new Promise((resolve)=>{\n\t\t\t\t\tresolve(attachmentCache[attachment_id]);\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn fetch(`/wp-json/wp/v2/media/${attachment_id}`)\n\t\t\t\t.then(res=>res.json())\n\t\t\t\t.then((attachment)=>{\n\t\t\t\tattachmentCache[attachment.id] = attachment;\n\t\t\t\treturn attachment;\n\t\t\t}).catch(()=>{\n\t\t\t\tattachmentCache[attachment_id] = {error:true};\n\t\t\t})\n\t\t},\n\t\tuploadAttachment: (form, onRightBeforeUpload = null) => {\n\t\t\treturn new Promise((resolve, reject)=>{\n\t\t\t\t// TODO: catch errors\n\t\t\t\t// use fetch api?\n\t\t\t\tconst formData = new FormData(form);\n\t\t\t\tif(onRightBeforeUpload) onRightBeforeUpload();\n\t\t\t\t$.ajax({\n\t\t\t\t\turl: routes.upload,\n\t\t\t\t\tmethod: \"POST\",\n\t\t\t\t\tcache       : false,\n\t\t\t\t\tcontentType : false,\n\t\t\t\t\tprocessData : false,\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t// 'Content-Type': 'application/json',\n\t\t\t\t\t\t'X-WP-Nonce': wp_rest_nonce,\n\t\t\t\t\t},\n\t\t\t\t\tdata: formData,\n\t\t\t\t\tsuccess: (json)=>{\n\t\t\t\t\t\tresolve(resolveNonce(json));\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t});\n\n\t\t},\n\t}\n};\n\nexport class AdminApi extends PublicApi{\n\tconstructor(config){\n\t\tsuper(config);\n\t\tthis.adminApi = adminApi(config);\n\t}\n\tupdateParticle(particle){\n\t\treturn this.adminApi.updateParticle(particle);\n\t}\n}","\nexport const contentTypeViewProvider = ()=>{\n\n\t/**\n\t *\n\t * @type {ContentType[]}\n\t */\n\tconst contentTypes = [];\n\n\t// add a new content type to editor\n\tconst addContentType = (_type, cls) =>{\n\t\tif(contentTypes.find(({slug})=> slug === _type)){\n\t\t\tconsole.error(`content type already exists ${_type}`);\n\t\t\treturn false;\n\t\t}\n\t\tcontentTypes.push({\n\t\t\ttype: _type,\n\t\t\tcls,\n\t\t});\n\t\treturn true;\n\t};\n\n\t/**\n\t *\n\t * @param _type\n\t * @return {boolean|ContentType}\n\t */\n\tconst getContentView = (_type)=>{\n\t\tconst found = contentTypes.find(({type})=> type === _type);\n\t\tif(!found){\n\t\t\tconsole.log(`cannot find content view of type ${_type}`);\n\t\t\treturn false;\n\t\t}\n\t\treturn new found.cls($);\n\t};\n\n\treturn {\n\t\tadd: addContentType,\n\t\tget: getContentView,\n\t}\n};","\nexport const particlePreview = (particle, onEdit, onCancelEdit, onDelete)=>{\n\n\tconst {id, created_timestamp, author, author_id, tags} = particle;\n\tconst created = new Date(parseInt(created_timestamp)*1000);\n\n\tconst $header = $(`<div class=\"live-news-particle__header\">\n\n        <div class=\"live-news-particle__meta\">\n                <span class=\"live-news-particle__date\">${created.toLocaleDateString()} ${created.toLocaleTimeString()}</span>\n                <span class=\"live-news-particle__tags\">${tags.join(\", \")}</span>\n        </div>\n\n        <div class=\"live-news-particle__author\">\n            <div class=\"live-news-particle__name\">${(author)? author: author_id}</div>\n        </div>\n\n    </div>`);\n\n\tconst $content = $(\"<div/>\").addClass(\"live-news-particle__content\");\n\t$content.append((particle.contentViews.map((view)=>view.preview$())));\n\n\tconst $footer = $(`<nav class=\"live-news-particle__options\">\n            <ul>\n                <li>\n                    <a data-action=\"edit\" href=\"#\">Bearbeiten</a>\n                </li>\n                <li>\n                    <a data-action=\"delete\" href=\"#\">Löschen</a>\n                </li>\n            </ul>\n       </nav>`);\n\t$footer.on(\"click\", \"[data-action=delete]\", (e)=>{\n\t\te.preventDefault();\n\t\tsetLoading(true);\n\t\tonDelete(particle);\n\t});\n\t$footer.on(\"click\", \"[data-action=edit]\", (e)=>{\n\t\te.preventDefault();\n\t\tconst isEditing = $preview.hasClass(\"is-editing\");\n\t\tif(isEditing){\n\t\t\tonCancelEdit(particle);\n\t\t} else {\n\t\t\tsyncContentWithViews();\n\t\t\tonEdit(particle);\n\n\t\t}\n\t\tsetEditing(!isEditing);\n\t});\n\n\tconst syncContentWithViews = ()=>{\n\t\tfor(let i in particle.contentViews){\n\t\t\tif(!particle.contentViews.hasOwnProperty(i)) continue;\n\t\t\tparticle.contentViews[i].setValue(particle.contents[i].content);\n\t\t}\n\t};\n\tsyncContentWithViews();\n\n\tconst $preview = $(\"<div></div>\").addClass(\"live-news-particle\");\n\t$preview.append($header);\n\t$preview.append($content);\n\t$preview.append($footer);\n\n\t// loading layer\n\tconst $loading = $(\"<div></div>\").addClass(\"live-news-particle__loading\").appendTo($preview);\n\tconst $spinner = $(\"<span></span>\").addClass(\"spinner\").appendTo($loading);\n\n\tconst setLoading = (isLoading)=>{\n\t\tif(isLoading){\n\t\t\t$preview.addClass(\"is-loading\");\n\t\t\t$spinner.addClass(\"is-active\");\n\t\t} else {\n\t\t\t$preview.removeClass(\"is-loading\");\n\t\t\t$spinner.removeClass(\"is-active\");\n\t\t}\n\t};\n\tconst setEditing = (isEditing)=>{\n\t\tif(isEditing){\n\t\t\t$preview.addClass(\"is-editing\");\n\t\t\t$footer.find(\"[data-action=edit]\").text(\"Abbrechen\");\n\t\t} else {\n\t\t\t$preview.removeClass(\"is-editing\");\n\t\t\t$footer.find(\"[data-action=edit]\").text(\"Bearbeiten\");\n\t\t}\n\t};\n\n\treturn {\n\t\tget$: ()=> $preview,\n\t\tparticle,\n\t\tsetLoading,\n\t\tsetEditing,\n\t}\n};","import {particlePreview} from './particle';\n\nexport const particleStreamPreview = ($, contentTypeProvider, onEdit, onCancelEdit, onDelete)=>{\n\n\tlet streamParticlesViews = [];\n\n\tconst $el = $(\"<div></div>\").addClass(\"live-news__stream\");\n\n\t// check if is in preview stream\n\t// return position of view in array or -1\n\tconst isInPreviewStream = (particle_id) => streamParticlesViews.findIndex(({particle})=> particle.id === particle_id);\n\n\t// get particle view from stream\n\tconst getPreviewStreamParticleView = (particle_id)=>{\n\t\treturn streamParticlesViews.find(({particle}) => particle.id === particle_id);\n\t};\n\n\t// particle view for preview stream\n\tconst buildPreviewStreamParticleView = (particle) => {\n\t\tparticle.contentViews = particle.contents.map(({type, content}) => {\n\t\t\tconst contentView = contentTypeProvider.get(type);\n\t\t\tif(!contentView) return null;\n\t\t\tcontentView.setValue(content);\n\t\t\treturn contentView;\n\t\t}).filter(v => v !== null);\n\t\treturn particlePreview(particle, onEdit, onCancelEdit, onDelete);\n\t};\n\n\tconst removeParticleById = (particleId)=>{\n\t\tconst view = getPreviewStreamParticleView(particleId);\n\t\tif(view){\n\t\t\tstreamParticlesViews = streamParticlesViews.filter(view=> view.particle.id !== particleId);\n\t\t\tview.get$().slideUp(330, ()=>{\n\t\t\t\tview.get$().remove();\n\t\t\t});\n\t\t}\n\t};\n\tconst resetEditing = ()=>{\n\t\tfor(let v of streamParticlesViews){\n\t\t\tv.setEditing(false);\n\t\t}\n\t}\n\n\treturn {\n\t\tget$: ()=> $el,\n\t\tsetEditing: (particle_id, isEditing)=>{\n\t\t\tconst p = getPreviewStreamParticleView(particle_id);\n\t\t\tresetEditing();\n\t\t\tif(p) p.setEditing(isEditing);\n\t\t},\n\t\tsetLoading: (particle_id, isLoading)=>{\n\t\t\tconst p = getPreviewStreamParticleView(particle_id);\n\t\t\tif(p) p.setLoading(isLoading);\n\t\t},\n\t\tupdate: (particles) => {\n\t\t\tfor(let p of particles.reverse()){\n\t\t\t\tconst inStream = isInPreviewStream(p.id);\n\n\t\t\t\tif(p.is_deleted === true){\n\t\t\t\t\tif(inStream){\n\t\t\t\t\t\t// DELETE\n\t\t\t\t\t\tremoveParticleById(p.id);\n\t\t\t\t\t}\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif(inStream >= 0){\n\t\t\t\t\t// UPDATE\n\t\t\t\t\tconst view = getPreviewStreamParticleView(p.id);\n\n\t\t\t\t\tconst indexOfView = inStream;\n\t\t\t\t\tconst newView = buildPreviewStreamParticleView(p);\n\t\t\t\t\tview.get$().after(newView.get$());\n\t\t\t\t\tview.get$().remove();\n\t\t\t\t\tstreamParticlesViews[indexOfView] = newView;\n\n\n\n\t\t\t\t} else {\n\t\t\t\t\t// add\n\t\t\t\t\tconst view = buildPreviewStreamParticleView(p);\n\t\t\t\t\tstreamParticlesViews.push(view);\n\t\t\t\t\t$el.prepend(view.get$());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n};","\nexport const particleEditor = ($, tags, contentTypeViewProvider, onSubmit, onReset, onCancel) => {\n\n\t/**\n\t * particle id if edit or null if create\n\t * @type {null|int}\n\t */\n\tlet particleId = null;\n\tlet authorId = null;\n\n\t/**\n\t *\n\t * @type {ContentType[]}\n\t */\n\tlet contents = [];\n\n\t// dom element\n\tconst $editor = $(\"<div></div>\").addClass(\"live-news-editor\");\n\n\t// ------------------------------------------------------\n\t// editor form\n\t// ------------------------------------------------------\n\tconst $form = $(\"<div></div>\").addClass(\"live-news-input\");\n\t$editor.append($form);\n\tconst $contentViewElements = $(\"<div></div>\").addClass(\"live-news__items\");\n\t$form.append($contentViewElements);\n\n\t// ------------------------------------------------------\n\t// tags\n\t// ------------------------------------------------------\n\tconst $tags = $(\"<div><h4>Eigenschaften wählen</h4></div>\").addClass(\"live-news-input__tags\").appendTo($form);\n\tconst $tagList = $(\"<div></div>\").addClass(\"live-news-input__tags--list\").appendTo($tags);\n\tconst renderTag = (tag)=>{\n\t\treturn $(`<label><input type='checkbox' value=\"${tag}\" />  ${tag}</label>`).addClass(\"live-news-input__tags--tag\")\n\t};\n\tconst renderTags = (tags)=>{\n\t\t$tagList.empty().append(tags.map(renderTag));\n\t};\n\trenderTags(tags);\n\n\n\t// ------------------------------------------------------\n\t// submit\n\t// ------------------------------------------------------\n\tconst $submit = $(`<button>Nachricht speichern</button>`)\n\t\t.attr(\"type\",\"submit\")\n\t\t.addClass(\"live-news-input__submit\")\n\t\t.on(\"click\", (e)=>{\n\t\t\te.preventDefault();\n\t\t\tonSubmit();\n\t\t})\n\t\t.appendTo($form);\n\n\t// ------------------------------------------------------\n\t// reset\n\t// ------------------------------------------------------\n\tconst $reset = $(`<button>Zurücksetzten</button>`)\n\t\t.attr(\"type\",\"submit\")\n\t\t.addClass(\"live-news-input__reset\")\n\t\t.on(\"click\", (e)=>{\n\t\t\te.preventDefault();\n\t\t\tonReset();\n\t\t\treset();\n\t\t})\n\t\t.appendTo($form);\n\n\t// ------------------------------------------------------\n\t// reset\n\t// ------------------------------------------------------\n\tconst $cancel = $(`<button>Abbrechen</button>`)\n\t\t.attr(\"type\",\"submit\")\n\t\t.addClass(\"live-news-input__cancel\")\n\t\t.on(\"click\", (e)=>{\n\t\t\te.preventDefault();\n\t\t\tonCancel();\n\t\t})\n\t\t.hide()\n\t\t.appendTo($form);\n\n\n\t// ------------------------------------------------------\n\t// loading state\n\t// ------------------------------------------------------\n\tconst $loading = $(\"<span class='spinner'></span>\").insertAfter($submit);\n\tconst setIsSaving = (isSaving)=>{\n\t\tif(isSaving){\n\t\t\t$form.addClass(\"is-saving\");\n\t\t\t$submit.attr(\"disabled\", \"disabled\");\n\t\t\t$reset.attr(\"disabled\", \"disabled\");\n\t\t\t$cancel.attr(\"disabled\", \"disabled\");\n\t\t\t$loading.addClass(\"is-active\");\n\t\t\tgetTagInputs$().attr(\"disabled\", \"disabled\");\n\t\t} else {\n\t\t\t$form.removeClass(\"is-saving\");\n\t\t\t$loading.removeClass(\"is-active\");\n\t\t\t$submit.removeAttr(\"disabled\");\n\t\t\t$reset.removeAttr(\"disabled\");\n\t\t\t$cancel.removeAttr(\"disabled\");\n\t\t\tgetTagInputs$().removeAttr(\"disabled\");\n\t\t}\n\t\tfor(let c of contents){\n\t\t\tc.setDisabled(isSaving);\n\t\t}\n\t};\n\n\n\t// ------------------------------------------------------\n\t// functions\n\t// ------------------------------------------------------\n\n\t// get contents of inputs as json object\n\tconst getContents = ()=>{\n\t\treturn contents.map((content)=>{\n\t\t\treturn {\n\t\t\t\ttype: content.slug,\n\t\t\t\tcontent: content.getValue(),\n\t\t\t}\n\t\t});\n\t};\n\t// add content to editor\n\tconst addContent = (_type_string_or_content_view)=>{\n\t\tif( typeof _type_string_or_content_view === typeof \"\"){\n\t\t\tconst content = contentTypeViewProvider.get(_type_string_or_content_view);\n\t\t\tif(!content) return;\n\t\t\t$contentViewElements.append(content.editor$());\n\t\t\tcontents.push(content);\n\t\t} else {\n\t\t\t$contentViewElements.append(_type_string_or_content_view.editor$());\n\t\t\tcontents.push(_type_string_or_content_view);\n\t\t}\n\t};\n\t// set list of contents\n\tconst setContents = (contents)=>{\n\t\tclearContentViews();\n\t\tfor(let content of contents){\n\t\t\taddContent(content);\n\t\t}\n\t};\n\n\tconst getTagInputs$ = () => {\n\t\treturn $tags.find(\"[type=checkbox]\");\n\t};\n\n\tconst getTags = ()=>{\n\t\treturn getTagInputs$().map((index,input)=>{\n\t\t\treturn ($(input).prop(\"checked\"))? input.value: false;\n\t\t}).toArray().filter(v=>v !== false);\n\t};\n\n\tconst setTags = (tags)=>{\n\t\tgetTagInputs$().map((index,input)=>{\n\t\t\tif(tags.includes(input.value)){\n\t\t\t\t$(input).prop(\"checked\", true);\n\t\t\t} else {\n\t\t\t\t$(input).prop(\"checked\", false);\n\t\t\t}\n\t\t})\n\t};\n\n\t// set particle to edit\n\tconst setParticle = ({id, author_id, tags, contentViews}) => {\n\t\tparticleId = id;\n\t\tauthorId = author_id;\n\t\tsetTags(tags);\n\t\tsetContents(contentViews);\n\t\t$cancel.show();\n\t\t$reset.hide();\n\t};\n\n\tconst reset = ()=>{\n\t\tparticleId = null;\n\t\tauthorId = null;\n\t\tfor( let c of contents){\n\t\t\tc.setValue(\"\");\n\t\t}\n\t\t$tags.find(\"input\").prop(\"checked\", false);\n\t\t$cancel.hide();\n\t\t$reset.show();\n\t};\n\n\tconst clearContentViews = ()=>{\n\t\t$contentViewElements.empty();\n\t\tcontents = [];\n\t};\n\n\n\treturn {\n\t\tget$: ()=> $editor,\n\n\t\taddContent,\n\t\tsetParticle,\n\n\t\tgetId: ()=> particleId,\n\t\tgetAuthorId: ()=> authorId,\n\n\t\tgetContents,\n\t\tsetContents,\n\n\t\tgetTags,\n\t\tsetTags,\n\n\t\treset,\n\n\t\tclearContentViews,\n\t\tsetIsSaving,\n\t}\n};","\n// ----------------------\n// basics\n// ----------------------\nconst _events = {};\n\nexport const listen = (on,fn)=>{\n    if(typeof _events[on] === typeof undefined){\n        _events[on] = [];\n    }\n    _events[on].push(fn);\n\n    // off function\n    return ()=>{\n        _events[on] = _events[on].filter((_fn)=> _fn !== fn);\n    };\n};\n\nexport const trigger = (on, payload)=>{\n    if(typeof _events[on] !== typeof []) return;\n    _events[on].forEach((fn)=>{\n        fn(payload);\n    });\n};\n\nexport const onAddParticle = (fn)=> listen(\"particleAdd\", fn);\nexport const triggerAddParticle = ($particle)=> trigger(\"particleAdd\", $particle);\n\nexport const onUpdateParticle = (fn)=> listen(\"particleUpdate\", fn);\nexport const triggerUpdateParticle = ($particle)=> trigger(\"particleUpdate\", $particle);\n\nexport const onRemoveParticle = (fn)=> listen(\"particleRemove\", fn);\nexport const triggerRemoveParticle = ($particle)=> trigger(\"particleRemove\", $particle);\n\n// ----------------------\n// for public free usage\n// ----------------------\nexport default {\n    listen,\n    trigger,\n\n    onAddParticle,\n    triggerAddParticle,\n\n    onUpdateParticle,\n    triggerUpdateParticle,\n\n    onRemoveParticle,\n    triggerRemoveParticle,\n}","/**\n *\n * @param {object} config\n * @param {AdminApi} adminApi\n * @param {jQuery} $\n */\nimport {contentTypeViewProvider} from './utils/content-type-view-provider';\nimport {particleStreamPreview} from './view/particle-stream-preview';\nimport {particleEditor} from './view/particle-editor';\nimport events from './utils/events';\n\nexport const application = (config, adminApi, $)=>{\n\n    let isSavingParticle =  false;\n\tlet fetchingParticles = false;\n\n\tconsole.log(\"JQuery?\", $);\n\n\t/**\n\t * @type {object}\n\t */\n\tconst dom = {};\n\n\t/**\n\t *\n\t * @type {{add, get}}\n\t */\n\tconst contentTypeProvider = contentTypeViewProvider();\n\n\t// ------------------------------------------------------\n\t// get root dom element of editor\n\t// ------------------------------------------------------\n\tdom.$root = $(`#${config.dom.rootId}`);\n\tdom.$root.empty();\n\n\t// ------------------------------------------------------\n\t// editor\n\t// ------------------------------------------------------\n\tconst editor = particleEditor(\n\t\t$,\n\t\tconfig.tags,\n\t\tcontentTypeProvider,\n\t\t()=>{\n\t\t\tif(isSavingParticle) return;\n\t\t\tisSavingParticle = true;\n\t\t\teditor.setIsSaving(true);\n\n\t\t\tconst values = editor.getContents();\n\t\t\tconst data = {\n\t\t\t\tparticle_contents: values.map(({content}) => content),\n\t\t\t\tparticle_content_types: values.map(({type}) => type),\n\t\t\t\ttags: editor.getTags(),\n\t\t\t};\n\t\t\tif(editor.getId()) data.particle_id = editor.getId();\n\t\t\tif(editor.getAuthorId()) data.author_id = editor.getAuthorId();\n\n\n\t\t\tadminApi.updateParticle(data).then(()=>{\n\t\t\t\tif(data.particle_id>0){\n\t\t\t\t\tpreview.setEditing(data.particle_id, false);\n\t\t\t\t\tpreview.setLoading(data.particle_id, true);\n\t\t\t\t} else {\n\t\t\t\t\tsetPreviewLoading(true);\n\t\t\t\t}\n\t\t\t\teditor.setIsSaving(false);\n\t\t\t\teditor.reset();\n\t\t\t\tisSavingParticle = false;\n\t\t\t\tupdatePreviewStream();\n\t\t\t});\n\t\t},\n\t\t()=>{\n\t\t\t// if editor contents are deleted\n\t\t},\n\t\t()=>{\n\t\t\t// if editing a particle is canceled\n\t\t\tpreview.setEditing(editor.getId(), false);\n\t\t\teditor.reset();\n\t\t}\n\t);\n\tdom.$root.append(editor.get$());\n\n\t// ------------------------------------------------------\n\t// settings for preview stream\n\t// ------------------------------------------------------\n\tconst settings = `<div class=\"live-news-stream__settings\">\n            <ul>\n                <li>\n                    <a href=\"#\" class=\"live-news-stream__settings--is-active\">Neueste zuerst</a>\n                </li>\n                <li>\n                    <a href=\"#\">Älteste zuerst</a>\n                </li>\n                <li>\n                    <a href=\"#\">Nur Wichtigste</a>\n                </li>\n            </ul>\n        </div>`;\n\n\t// ------------------------------------------------------\n\t// preview of particle stream\n\t// ------------------------------------------------------\n\tdom.$preview = $(\"<div></div>\").addClass(\"live-news__preview\").appendTo(dom.$root);\n\tdom.$previewHeader = $(\"<div></div>\").addClass(\"live-news__preview--header\").appendTo(dom.$preview);\n\n\tdom.$previewLoadingIndicator = $(\"<span class='spinner'></span>\")\n\t\t.appendTo(dom.$previewHeader);\n\n\tconst preview = particleStreamPreview(\n\t\t$,\n\t\tcontentTypeProvider,\n\t\t(particle)=>{\n\t\t\t// so all others can be unset for editing\n\t\t\tpreview.setEditing(particle.id, true);\n\t\t\teditor.setParticle(particle);\n\t\t},\n\t\t(particle)=>{\n\t\t\teditor.reset();\n\t\t},\n\t\t(particle)=>{\n\t\t\tadminApi.deleteParticle(particle.id).then((json)=>{\n\t\t\t\tif(json.deleted){\n\t\t\t\t\tpreview.removeParticleById(particle.id);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t);\n\tdom.$preview.append(preview.get$());\n\tconst setPreviewLoading = (isLoading) => {\n\t\tif(isLoading){\n\t\t\tdom.$previewLoadingIndicator.addClass(\"is-active\");\n\t\t} else{\n\t\t\tdom.$previewLoadingIndicator.removeClass(\"is-active\");\n\t\t}\n\t};\n\tlet updateTimeout = null;\n\tconst updatePreviewStream = ()=>{\n\t\tif(fetchingParticles) return;\n\n\t\tclearTimeout(updateTimeout);\n\t\tfetchingParticles = true;\n\n\t\tadminApi.fetchParticlesUpdate().then((particles)=>{\n\n\t\t\tupdateTimeout = setTimeout(updatePreviewStream, 5000);\n\t\t\tfetchingParticles = false;\n\t\t\tsetPreviewLoading(false);\n\t\t\tpreview.update(particles);\n\t\t});\n\t};\n\tsetPreviewLoading(true);\n\tupdatePreviewStream();\n\n\t// ------------------------------------------------------\n\t// functions\n\t// ------------------------------------------------------\n\n\t// ------------------------------------------------------\n\t// public\n\t// ------------------------------------------------------\n\treturn {\n\t\tdom,\n\t\tcontentTypeProvider,\n\t\teditor,\n\t\tevents,\n\t\tinit: () => {\n\t\t\t// initially add this combination\n\t\t\teditor.setContents([\"title\", \"html\", \"upload\"]);\n\t\t}\n\t}\n};","/**\n * Trumbowyg v2.19.1 - A lightweight WYSIWYG editor\n * Trumbowyg core file\n * ------------------------\n * @link http://alex-d.github.io/Trumbowyg\n * @license MIT\n * @author Alexandre Demode (Alex-D)\n *         Twitter : @AlexandreDemode\n *         Website : alex-d.fr\n */\n\njQuery.trumbowyg = {\n    langs: {\n        en: {\n            viewHTML: 'View HTML',\n\n            undo: 'Undo',\n            redo: 'Redo',\n\n            formatting: 'Formatting',\n            p: 'Paragraph',\n            blockquote: 'Quote',\n            code: 'Code',\n            header: 'Header',\n\n            bold: 'Bold',\n            italic: 'Italic',\n            strikethrough: 'Strikethrough',\n            underline: 'Underline',\n\n            strong: 'Strong',\n            em: 'Emphasis',\n            del: 'Deleted',\n\n            superscript: 'Superscript',\n            subscript: 'Subscript',\n\n            unorderedList: 'Unordered list',\n            orderedList: 'Ordered list',\n\n            insertImage: 'Insert Image',\n            link: 'Link',\n            createLink: 'Insert link',\n            unlink: 'Remove link',\n\n            justifyLeft: 'Align Left',\n            justifyCenter: 'Align Center',\n            justifyRight: 'Align Right',\n            justifyFull: 'Align Justify',\n\n            horizontalRule: 'Insert horizontal rule',\n            removeformat: 'Remove format',\n\n            fullscreen: 'Fullscreen',\n\n            close: 'Close',\n\n            submit: 'Confirm',\n            reset: 'Cancel',\n\n            required: 'Required',\n            description: 'Description',\n            title: 'Title',\n            text: 'Text',\n            target: 'Target',\n            width: 'Width'\n        }\n    },\n\n    // Plugins\n    plugins: {},\n\n    // SVG Path globally\n    svgPath: null,\n\n    hideButtonTexts: null\n};\n\n// Makes default options read-only\nObject.defineProperty(jQuery.trumbowyg, 'defaultOptions', {\n    value: {\n        lang: 'en',\n\n        fixedBtnPane: false,\n        fixedFullWidth: false,\n        autogrow: false,\n        autogrowOnEnter: false,\n        imageWidthModalEdit: false,\n\n        prefix: 'trumbowyg-',\n\n        semantic: true,\n        semanticKeepAttributes: false,\n        resetCss: false,\n        removeformatPasted: false,\n        tabToIndent: false,\n        tagsToRemove: [],\n        tagsToKeep: ['hr', 'img', 'embed', 'iframe', 'input'],\n        btns: [\n            ['viewHTML'],\n            ['undo', 'redo'], // Only supported in Blink browsers\n            ['formatting'],\n            ['strong', 'em', 'del'],\n            ['superscript', 'subscript'],\n            ['link'],\n            ['insertImage'],\n            ['justifyLeft', 'justifyCenter', 'justifyRight', 'justifyFull'],\n            ['unorderedList', 'orderedList'],\n            ['horizontalRule'],\n            ['removeformat'],\n            ['fullscreen']\n        ],\n        // For custom button definitions\n        btnsDef: {},\n        changeActiveDropdownIcon: false,\n\n        inlineElementsSelector: 'a,abbr,acronym,b,caption,cite,code,col,dfn,dir,dt,dd,em,font,hr,i,kbd,li,q,span,strikeout,strong,sub,sup,u',\n\n        pasteHandlers: [],\n\n        // imgDblClickHandler: default is defined in constructor\n\n        plugins: {},\n        urlProtocol: false,\n        minimalLinks: false\n    },\n    writable: false,\n    enumerable: true,\n    configurable: false\n});\n\n\n(function (navigator, window, document, $) {\n    'use strict';\n\n    var CONFIRM_EVENT = 'tbwconfirm',\n        CANCEL_EVENT = 'tbwcancel';\n\n    $.fn.trumbowyg = function (options, params) {\n        var trumbowygDataName = 'trumbowyg';\n        if (options === Object(options) || !options) {\n            return this.each(function () {\n                if (!$(this).data(trumbowygDataName)) {\n                    $(this).data(trumbowygDataName, new Trumbowyg(this, options));\n                }\n            });\n        }\n        if (this.length === 1) {\n            try {\n                var t = $(this).data(trumbowygDataName);\n                switch (options) {\n                    // Exec command\n                    case 'execCmd':\n                        return t.execCmd(params.cmd, params.param, params.forceCss, params.skipTrumbowyg);\n\n                    // Modal box\n                    case 'openModal':\n                        return t.openModal(params.title, params.content);\n                    case 'closeModal':\n                        return t.closeModal();\n                    case 'openModalInsert':\n                        return t.openModalInsert(params.title, params.fields, params.callback);\n\n                    // Range\n                    case 'saveRange':\n                        return t.saveRange();\n                    case 'getRange':\n                        return t.range;\n                    case 'getRangeText':\n                        return t.getRangeText();\n                    case 'restoreRange':\n                        return t.restoreRange();\n\n                    // Enable/disable\n                    case 'enable':\n                        return t.setDisabled(false);\n                    case 'disable':\n                        return t.setDisabled(true);\n\n                    // Toggle\n                    case 'toggle':\n                        return t.toggle();\n\n                    // Destroy\n                    case 'destroy':\n                        return t.destroy();\n\n                    // Empty\n                    case 'empty':\n                        return t.empty();\n\n                    // HTML\n                    case 'html':\n                        return t.html(params);\n                }\n            } catch (c) {\n            }\n        }\n\n        return false;\n    };\n\n    // @param: editorElem is the DOM element\n    var Trumbowyg = function (editorElem, options) {\n        var t = this,\n            trumbowygIconsId = 'trumbowyg-icons',\n            $trumbowyg = $.trumbowyg;\n\n        // Get the document of the element. It use to makes the plugin\n        // compatible on iframes.\n        t.doc = editorElem.ownerDocument || document;\n\n        // jQuery object of the editor\n        t.$ta = $(editorElem); // $ta : Textarea\n        t.$c = $(editorElem); // $c : creator\n\n        options = options || {};\n\n        // Localization management\n        if (options.lang != null || $trumbowyg.langs[options.lang] != null) {\n            t.lang = $.extend(true, {}, $trumbowyg.langs.en, $trumbowyg.langs[options.lang]);\n        } else {\n            t.lang = $trumbowyg.langs.en;\n        }\n\n        t.hideButtonTexts = $trumbowyg.hideButtonTexts != null ? $trumbowyg.hideButtonTexts : options.hideButtonTexts;\n\n        // SVG path\n        var svgPathOption = $trumbowyg.svgPath != null ? $trumbowyg.svgPath : options.svgPath;\n        t.hasSvg = svgPathOption !== false;\n        t.svgPath = !!t.doc.querySelector('base') ? window.location.href.split('#')[0] : '';\n        if ($('#' + trumbowygIconsId, t.doc).length === 0 && svgPathOption !== false) {\n            if (svgPathOption == null) {\n                // Hack to get svgPathOption based on trumbowyg.js path\n                var scriptElements = document.getElementsByTagName('script');\n                for (var i = 0; i < scriptElements.length; i += 1) {\n                    var source = scriptElements[i].src;\n                    var matches = source.match('trumbowyg(\\.min)?\\.js');\n                    if (matches != null) {\n                        svgPathOption = source.substring(0, source.indexOf(matches[0])) + 'ui/icons.svg';\n                    }\n                }\n                if (svgPathOption == null) {\n                    console.warn('You must define svgPath: https://goo.gl/CfTY9U'); // jshint ignore:line\n                }\n            }\n\n            var div = t.doc.createElement('div');\n            div.id = trumbowygIconsId;\n            t.doc.body.insertBefore(div, t.doc.body.childNodes[0]);\n            $.ajax({\n                async: true,\n                type: 'GET',\n                contentType: 'application/x-www-form-urlencoded; charset=UTF-8',\n                dataType: 'xml',\n                crossDomain: true,\n                url: svgPathOption,\n                data: null,\n                beforeSend: null,\n                complete: null,\n                success: function (data) {\n                    div.innerHTML = new XMLSerializer().serializeToString(data.documentElement);\n                }\n            });\n        }\n\n\n        /**\n         * When the button is associated to a empty object\n         * fn and title attributes are defined from the button key value\n         *\n         * For example\n         *      foo: {}\n         * is equivalent to :\n         *      foo: {\n         *          fn: 'foo',\n         *          title: this.lang.foo\n         *      }\n         */\n        var h = t.lang.header, // Header translation\n            isBlinkFunction = function () {\n                return (window.chrome || (window.Intl && Intl.v8BreakIterator)) && 'CSS' in window;\n            };\n        t.btnsDef = {\n            viewHTML: {\n                fn: 'toggle',\n                class: 'trumbowyg-not-disable',\n            },\n\n            undo: {\n                isSupported: isBlinkFunction,\n                key: 'Z'\n            },\n            redo: {\n                isSupported: isBlinkFunction,\n                key: 'Y'\n            },\n\n            p: {\n                fn: 'formatBlock'\n            },\n            blockquote: {\n                fn: 'formatBlock'\n            },\n            h1: {\n                fn: 'formatBlock',\n                title: h + ' 1'\n            },\n            h2: {\n                fn: 'formatBlock',\n                title: h + ' 2'\n            },\n            h3: {\n                fn: 'formatBlock',\n                title: h + ' 3'\n            },\n            h4: {\n                fn: 'formatBlock',\n                title: h + ' 4'\n            },\n            h5: {\n                fn: 'formatBlock',\n                title: h + ' 5'\n            },\n            h6: {\n                fn: 'formatBlock',\n                title: h + ' 6'\n            },\n            subscript: {\n                tag: 'sub'\n            },\n            superscript: {\n                tag: 'sup'\n            },\n\n            bold: {\n                key: 'B',\n                tag: 'b'\n            },\n            italic: {\n                key: 'I',\n                tag: 'i'\n            },\n            underline: {\n                tag: 'u'\n            },\n            strikethrough: {\n                tag: 'strike'\n            },\n\n            strong: {\n                fn: 'bold',\n                key: 'B'\n            },\n            em: {\n                fn: 'italic',\n                key: 'I'\n            },\n            del: {\n                fn: 'strikethrough'\n            },\n\n            createLink: {\n                key: 'K',\n                tag: 'a'\n            },\n            unlink: {},\n\n            insertImage: {},\n\n            justifyLeft: {\n                tag: 'left',\n                forceCss: true\n            },\n            justifyCenter: {\n                tag: 'center',\n                forceCss: true\n            },\n            justifyRight: {\n                tag: 'right',\n                forceCss: true\n            },\n            justifyFull: {\n                tag: 'justify',\n                forceCss: true\n            },\n\n            unorderedList: {\n                fn: 'insertUnorderedList',\n                tag: 'ul'\n            },\n            orderedList: {\n                fn: 'insertOrderedList',\n                tag: 'ol'\n            },\n\n            horizontalRule: {\n                fn: 'insertHorizontalRule'\n            },\n\n            removeformat: {},\n\n            fullscreen: {\n                class: 'trumbowyg-not-disable'\n            },\n            close: {\n                fn: 'destroy',\n                class: 'trumbowyg-not-disable'\n            },\n\n            // Dropdowns\n            formatting: {\n                dropdown: ['p', 'blockquote', 'h1', 'h2', 'h3', 'h4'],\n                ico: 'p'\n            },\n            link: {\n                dropdown: ['createLink', 'unlink']\n            }\n        };\n\n        // Defaults Options\n        t.o = $.extend(true, {}, $trumbowyg.defaultOptions, options);\n        if (!t.o.hasOwnProperty('imgDblClickHandler')) {\n            t.o.imgDblClickHandler = t.getDefaultImgDblClickHandler();\n        }\n\n        t.urlPrefix = t.setupUrlPrefix();\n\n        t.disabled = t.o.disabled || (editorElem.nodeName === 'TEXTAREA' && editorElem.disabled);\n\n        if (options.btns) {\n            t.o.btns = options.btns;\n        } else if (!t.o.semantic) {\n            t.o.btns[3] = ['bold', 'italic', 'underline', 'strikethrough'];\n        }\n\n        $.each(t.o.btnsDef, function (btnName, btnDef) {\n            t.addBtnDef(btnName, btnDef);\n        });\n\n        // put this here in the event it would be merged in with options\n        t.eventNamespace = 'trumbowyg-event';\n\n        // Keyboard shortcuts are load in this array\n        t.keys = [];\n\n        // Tag to button dynamically hydrated\n        t.tagToButton = {};\n        t.tagHandlers = [];\n\n        // Admit multiple paste handlers\n        t.pasteHandlers = [].concat(t.o.pasteHandlers);\n\n        // Check if browser is IE\n        t.isIE = navigator.userAgent.indexOf('MSIE') !== -1 || navigator.appVersion.indexOf('Trident/') !== -1;\n\n        // Check if we are on macOs\n        t.isMac = navigator.platform.toUpperCase().indexOf('MAC') !== -1;\n\n        t.init();\n    };\n\n    Trumbowyg.prototype = {\n        DEFAULT_SEMANTIC_MAP: {\n            'b': 'strong',\n            'i': 'em',\n            's': 'del',\n            'strike': 'del',\n            'div': 'p'\n        },\n\n        init: function () {\n            var t = this;\n            t.height = t.$ta.height();\n\n            t.initPlugins();\n\n            try {\n                // Disable image resize, try-catch for old IE\n                t.doc.execCommand('enableObjectResizing', false, false);\n                t.doc.execCommand('defaultParagraphSeparator', false, 'p');\n            } catch (e) {\n            }\n\n            t.buildEditor();\n            t.buildBtnPane();\n\n            t.fixedBtnPaneEvents();\n\n            t.buildOverlay();\n\n            setTimeout(function () {\n                if (t.disabled) {\n                    t.setDisabled(true);\n                }\n                t.$c.trigger('tbwinit');\n            });\n        },\n\n        addBtnDef: function (btnName, btnDef) {\n            this.btnsDef[btnName] = $.extend(btnDef, this.btnsDef[btnName] || {});\n        },\n\n        setupUrlPrefix: function () {\n            var protocol = this.o.urlProtocol;\n            if (!protocol) {\n                return;\n            }\n\n            if (typeof(protocol) !== 'string') {\n                return 'https://';\n            }\n            return protocol.replace('://', '') + '://';\n        },\n\n        buildEditor: function () {\n            var t = this,\n                prefix = t.o.prefix,\n                html = '';\n\n            t.$box = $('<div/>', {\n                class: prefix + 'box ' + prefix + 'editor-visible ' + prefix + t.o.lang + ' trumbowyg'\n            });\n\n            // $ta = Textarea\n            // $ed = Editor\n            t.isTextarea = t.$ta.is('textarea');\n            if (t.isTextarea) {\n                html = t.$ta.val();\n                t.$ed = $('<div/>');\n                t.$box\n                    .insertAfter(t.$ta)\n                    .append(t.$ed, t.$ta);\n            } else {\n                t.$ed = t.$ta;\n                html = t.$ed.html();\n\n                t.$ta = $('<textarea/>', {\n                    name: t.$ta.attr('id'),\n                    height: t.height\n                }).val(html);\n\n                t.$box\n                    .insertAfter(t.$ed)\n                    .append(t.$ta, t.$ed);\n                t.syncCode();\n            }\n\n            t.$ta\n                .addClass(prefix + 'textarea')\n                .attr('tabindex', -1)\n            ;\n\n            t.$ed\n                .addClass(prefix + 'editor')\n                .attr({\n                    contenteditable: true,\n                    dir: t.lang._dir || 'ltr'\n                })\n                .html(html)\n            ;\n\n            if (t.o.tabindex) {\n                t.$ed.attr('tabindex', t.o.tabindex);\n            }\n\n            if (t.$c.is('[placeholder]')) {\n                t.$ed.attr('placeholder', t.$c.attr('placeholder'));\n            }\n\n            if (t.$c.is('[spellcheck]')) {\n                t.$ed.attr('spellcheck', t.$c.attr('spellcheck'));\n            }\n\n            if (t.o.resetCss) {\n                t.$ed.addClass(prefix + 'reset-css');\n            }\n\n            if (!t.o.autogrow) {\n                t.$ta.add(t.$ed).css({\n                    height: t.height\n                });\n            }\n\n            t.semanticCode();\n\n            if (t.o.autogrowOnEnter) {\n                t.$ed.addClass(prefix + 'autogrow-on-enter');\n            }\n\n            var ctrl = false,\n                composition = false,\n                debounceButtonPaneStatus,\n                updateEventName = 'keyup';\n\n            t.$ed\n                .on('dblclick', 'img', t.o.imgDblClickHandler)\n                .on('keydown', function (e) {\n                    if ((e.ctrlKey || e.metaKey) && !e.altKey) {\n                        ctrl = true;\n                        var key = t.keys[String.fromCharCode(e.which).toUpperCase()];\n\n                        try {\n                            t.execCmd(key.fn, key.param);\n                            return false;\n                        } catch (c) {}\n                    } else {\n                        if (t.o.tabToIndent && e.key === 'Tab') {\n                            try {\n                                if (e.shiftKey) {\n                                    t.execCmd('outdent', true, null);\n                                } else {\n                                    t.execCmd('indent', true, null);\n                                }\n                                return false;\n                            } catch (c) {}\n                        }\n                    }\n                })\n                .on('compositionstart compositionupdate', function () {\n                    composition = true;\n                })\n                .on(updateEventName + ' compositionend', function (e) {\n                    if (e.type === 'compositionend') {\n                        composition = false;\n                    } else if (composition) {\n                        return;\n                    }\n\n                    var keyCode = e.which;\n\n                    if (keyCode >= 37 && keyCode <= 40) {\n                        return;\n                    }\n\n                    if ((e.ctrlKey || e.metaKey) && (keyCode === 89 || keyCode === 90)) {\n                        t.semanticCode(false, true);\n                        t.$c.trigger('tbwchange');\n                    } else if (!ctrl && keyCode !== 17) {\n                        var compositionEndIE = t.isIE ? e.type === 'compositionend' : true;\n                        t.semanticCode(false, compositionEndIE && keyCode === 13);\n                        t.$c.trigger('tbwchange');\n                    } else if (typeof e.which === 'undefined') {\n                        t.semanticCode(false, false, true);\n                    }\n\n                    setTimeout(function () {\n                        ctrl = false;\n                    }, 50);\n                })\n                .on('mouseup keydown keyup', function (e) {\n                    if ((!e.ctrlKey && !e.metaKey) || e.altKey) {\n                        setTimeout(function () { // \"hold on\" to the ctrl key for 50ms\n                            ctrl = false;\n                        }, 50);\n                    }\n                    clearTimeout(debounceButtonPaneStatus);\n                    debounceButtonPaneStatus = setTimeout(function () {\n                        t.updateButtonPaneStatus();\n                    }, 50);\n                })\n                .on('focus blur', function (e) {\n                    t.$c.trigger('tbw' + e.type);\n                    if (e.type === 'blur') {\n                        t.clearButtonPaneStatus();\n                    }\n                    if (t.o.autogrowOnEnter) {\n                        if (t.autogrowOnEnterDontClose) {\n                            return;\n                        }\n                        if (e.type === 'focus') {\n                            t.autogrowOnEnterWasFocused = true;\n                            t.autogrowEditorOnEnter();\n                        }\n                        else if (!t.o.autogrow) {\n                            t.$ed.css({height: t.$ed.css('min-height')});\n                            t.$c.trigger('tbwresize');\n                        }\n                    }\n                })\n                .on('cut drop', function () {\n                    setTimeout(function () {\n                        t.semanticCode(false, true);\n                        t.$c.trigger('tbwchange');\n                    }, 0);\n                })\n                .on('paste', function (e) {\n                    if (t.o.removeformatPasted) {\n                        e.preventDefault();\n\n                        if (window.getSelection && window.getSelection().deleteFromDocument) {\n                            window.getSelection().deleteFromDocument();\n                        }\n\n                        try {\n                            // IE\n                            var text = window.clipboardData.getData('Text');\n\n                            try {\n                                // <= IE10\n                                t.doc.selection.createRange().pasteHTML(text);\n                            } catch (c) {\n                                // IE 11\n                                t.doc.getSelection().getRangeAt(0).insertNode(t.doc.createTextNode(text));\n                            }\n                            t.$c.trigger('tbwchange', e);\n                        } catch (d) {\n                            // Not IE\n                            t.execCmd('insertText', (e.originalEvent || e).clipboardData.getData('text/plain'));\n                        }\n                    }\n\n                    // Call pasteHandlers\n                    $.each(t.pasteHandlers, function (i, pasteHandler) {\n                        pasteHandler(e);\n                    });\n\n                    setTimeout(function () {\n                        t.semanticCode(false, true);\n                        t.$c.trigger('tbwpaste', e);\n                        t.$c.trigger('tbwchange');\n                    }, 0);\n                });\n\n            t.$ta\n                .on('keyup', function () {\n                    t.$c.trigger('tbwchange');\n                })\n                .on('paste', function () {\n                    setTimeout(function () {\n                        t.$c.trigger('tbwchange');\n                    }, 0);\n                });\n\n            $(t.doc.body).on('keydown', function (e) {\n                if (e.which === 27 && $('.' + prefix + 'modal-box').length >= 1) {\n                    t.closeModal();\n                    return false;\n                }\n            });\n        },\n\n        //autogrow when entering logic\n        autogrowEditorOnEnter: function () {\n            var t = this;\n            t.$ed.removeClass('autogrow-on-enter');\n            var oldHeight = t.$ed[0].clientHeight;\n            t.$ed.height('auto');\n            var totalHeight = t.$ed[0].scrollHeight;\n            t.$ed.addClass('autogrow-on-enter');\n            if (oldHeight !== totalHeight) {\n                t.$ed.height(oldHeight);\n                setTimeout(function () {\n                    t.$ed.css({height: totalHeight});\n                    t.$c.trigger('tbwresize');\n                }, 0);\n            }\n        },\n\n\n        // Build button pane, use o.btns option\n        buildBtnPane: function () {\n            var t = this,\n                prefix = t.o.prefix;\n\n            var $btnPane = t.$btnPane = $('<div/>', {\n                class: prefix + 'button-pane'\n            });\n\n            $.each(t.o.btns, function (i, btnGrp) {\n                if (!$.isArray(btnGrp)) {\n                    btnGrp = [btnGrp];\n                }\n\n                var $btnGroup = $('<div/>', {\n                    class: prefix + 'button-group ' + ((btnGrp.indexOf('fullscreen') >= 0) ? prefix + 'right' : '')\n                });\n                $.each(btnGrp, function (i, btn) {\n                    try { // Prevent buildBtn error\n                        if (t.isSupportedBtn(btn)) { // It's a supported button\n                            $btnGroup.append(t.buildBtn(btn));\n                        }\n                    } catch (c) {\n                    }\n                });\n\n                if ($btnGroup.html().trim().length > 0) {\n                    $btnPane.append($btnGroup);\n                }\n            });\n\n            t.$box.prepend($btnPane);\n        },\n\n\n        // Build a button and his action\n        buildBtn: function (btnName) { // btnName is name of the button\n            var t = this,\n                prefix = t.o.prefix,\n                btn = t.btnsDef[btnName],\n                isDropdown = btn.dropdown,\n                hasIcon = btn.hasIcon != null ? btn.hasIcon : true,\n                textDef = t.lang[btnName] || btnName,\n\n                $btn = $('<button/>', {\n                    type: 'button',\n                    class: prefix + btnName + '-button ' + (btn.class || '') + (!hasIcon ? ' ' + prefix + 'textual-button' : ''),\n                    html: t.hasSvg && hasIcon ?\n                        '<svg><use xlink:href=\"' + t.svgPath + '#' + prefix + (btn.ico || btnName).replace(/([A-Z]+)/g, '-$1').toLowerCase() + '\"/></svg>' :\n                        t.hideButtonTexts ? '' : (btn.text || btn.title || t.lang[btnName] || btnName),\n                    title: (btn.title || btn.text || textDef) + (btn.key ? ' (' + (t.isMac ? 'Cmd' : 'Ctrl') + ' + ' + btn.key + ')' : ''),\n                    tabindex: -1,\n                    mousedown: function () {\n                        if (!isDropdown || $('.' + btnName + '-' + prefix + 'dropdown', t.$box).is(':hidden')) {\n                            $('body', t.doc).trigger('mousedown');\n                        }\n\n                        if ((t.$btnPane.hasClass(prefix + 'disable') || t.$box.hasClass(prefix + 'disabled')) &&\n                            !$(this).hasClass(prefix + 'active') &&\n                            !$(this).hasClass(prefix + 'not-disable')) {\n                            return false;\n                        }\n\n                        t.execCmd((isDropdown ? 'dropdown' : false) || btn.fn || btnName, btn.param || btnName, btn.forceCss);\n\n                        return false;\n                    }\n                });\n\n            if (isDropdown) {\n                $btn.addClass(prefix + 'open-dropdown');\n                var dropdownPrefix = prefix + 'dropdown',\n                    dropdownOptions = { // the dropdown\n                        class: dropdownPrefix + '-' + btnName + ' ' + dropdownPrefix + ' ' + prefix + 'fixed-top ' + (btn.dropdownClass || '')\n                    };\n                dropdownOptions['data-' + dropdownPrefix] = btnName;\n                var $dropdown = $('<div/>', dropdownOptions);\n                $.each(isDropdown, function (i, def) {\n                    if (t.btnsDef[def] && t.isSupportedBtn(def)) {\n                        $dropdown.append(t.buildSubBtn(def));\n                    }\n                });\n                t.$box.append($dropdown.hide());\n            } else if (btn.key) {\n                t.keys[btn.key] = {\n                    fn: btn.fn || btnName,\n                    param: btn.param || btnName\n                };\n            }\n\n            if (!isDropdown) {\n                t.tagToButton[(btn.tag || btnName).toLowerCase()] = btnName;\n            }\n\n            return $btn;\n        },\n        // Build a button for dropdown menu\n        // @param n : name of the subbutton\n        buildSubBtn: function (btnName) {\n            var t = this,\n                prefix = t.o.prefix,\n                btn = t.btnsDef[btnName],\n                hasIcon = btn.hasIcon != null ? btn.hasIcon : true;\n\n            if (btn.key) {\n                t.keys[btn.key] = {\n                    fn: btn.fn || btnName,\n                    param: btn.param || btnName\n                };\n            }\n\n            t.tagToButton[(btn.tag || btnName).toLowerCase()] = btnName;\n\n            return $('<button/>', {\n                type: 'button',\n                class: prefix + btnName + '-dropdown-button ' + (btn.class || '') + (btn.ico ? ' ' + prefix + btn.ico + '-button' : ''),\n                html: t.hasSvg && hasIcon ?\n                  '<svg><use xlink:href=\"' + t.svgPath + '#' + prefix + (btn.ico || btnName).replace(/([A-Z]+)/g, '-$1').toLowerCase() + '\"/></svg>' + (btn.text || btn.title || t.lang[btnName] || btnName) :\n                  (btn.text || btn.title || t.lang[btnName] || btnName),\n                title: (btn.key ? '(' + (t.isMac ? 'Cmd' : 'Ctrl') + ' + ' + btn.key + ')' : null),\n                style: btn.style || null,\n                mousedown: function () {\n                    $('body', t.doc).trigger('mousedown');\n\n                    t.execCmd(btn.fn || btnName, btn.param || btnName, btn.forceCss);\n\n                    return false;\n                }\n            });\n        },\n        // Check if button is supported\n        isSupportedBtn: function (btnName) {\n            try {\n                return this.btnsDef[btnName].isSupported();\n            } catch (e) {\n            }\n            return true;\n        },\n\n        // Build overlay for modal box\n        buildOverlay: function () {\n            var t = this;\n            t.$overlay = $('<div/>', {\n                class: t.o.prefix + 'overlay'\n            }).appendTo(t.$box);\n            return t.$overlay;\n        },\n        showOverlay: function () {\n            var t = this;\n            $(window).trigger('scroll');\n            t.$overlay.fadeIn(200);\n            t.$box.addClass(t.o.prefix + 'box-blur');\n        },\n        hideOverlay: function () {\n            var t = this;\n            t.$overlay.fadeOut(50);\n            t.$box.removeClass(t.o.prefix + 'box-blur');\n        },\n\n        // Management of fixed button pane\n        fixedBtnPaneEvents: function () {\n            var t = this,\n                fixedFullWidth = t.o.fixedFullWidth,\n                $box = t.$box;\n\n            if (!t.o.fixedBtnPane) {\n                return;\n            }\n\n            t.isFixed = false;\n\n            $(window)\n                .on('scroll.' + t.eventNamespace + ' resize.' + t.eventNamespace, function () {\n                    if (!$box) {\n                        return;\n                    }\n\n                    t.syncCode();\n\n                    var scrollTop = $(window).scrollTop(),\n                        offset = $box.offset().top + 1,\n                        $buttonPane = t.$btnPane,\n                        buttonPaneOuterHeight = $buttonPane.outerHeight() - 2;\n\n                    if ((scrollTop - offset > 0) && ((scrollTop - offset - t.height) < 0)) {\n                        if (!t.isFixed) {\n                            t.isFixed = true;\n                            $buttonPane.css({\n                                position: 'fixed',\n                                top: 0,\n                                left: fixedFullWidth ? 0 : 'auto',\n                                zIndex: 7\n                            });\n                            t.$box.css({paddingTop: $buttonPane.height()});\n                        }\n                        $buttonPane.css({\n                            width: fixedFullWidth ? '100%' : (($box.width() - 1))\n                        });\n\n                        $('.' + t.o.prefix + 'fixed-top', $box).css({\n                            position: fixedFullWidth ? 'fixed' : 'absolute',\n                            top: fixedFullWidth ? buttonPaneOuterHeight : buttonPaneOuterHeight + (scrollTop - offset),\n                            zIndex: 15\n                        });\n                    } else if (t.isFixed) {\n                        t.isFixed = false;\n                        $buttonPane.removeAttr('style');\n                        t.$box.css({paddingTop: 0});\n                        $('.' + t.o.prefix + 'fixed-top', $box).css({\n                            position: 'absolute',\n                            top: buttonPaneOuterHeight\n                        });\n                    }\n                });\n        },\n\n        // Disable editor\n        setDisabled: function (disable) {\n            var t = this,\n                prefix = t.o.prefix;\n\n            t.disabled = disable;\n\n            if (disable) {\n                t.$ta.attr('disabled', true);\n            } else {\n                t.$ta.removeAttr('disabled');\n            }\n            t.$box.toggleClass(prefix + 'disabled', disable);\n            t.$ed.attr('contenteditable', !disable);\n        },\n\n        // Destroy the editor\n        destroy: function () {\n            var t = this,\n                prefix = t.o.prefix;\n\n            if (t.isTextarea) {\n                t.$box.after(\n                    t.$ta\n                        .css({height: ''})\n                        .val(t.html())\n                        .removeClass(prefix + 'textarea')\n                        .show()\n                );\n            } else {\n                t.$box.after(\n                    t.$ed\n                        .css({height: ''})\n                        .removeClass(prefix + 'editor')\n                        .removeAttr('contenteditable')\n                        .removeAttr('dir')\n                        .html(t.html())\n                        .show()\n                );\n            }\n\n            t.$ed.off('dblclick', 'img');\n\n            t.destroyPlugins();\n\n            t.$box.remove();\n            t.$c.removeData('trumbowyg');\n            $('body').removeClass(prefix + 'body-fullscreen');\n            t.$c.trigger('tbwclose');\n            $(window).off('scroll.' + t.eventNamespace + ' resize.' + t.eventNamespace);\n        },\n\n\n        // Empty the editor\n        empty: function () {\n            this.$ta.val('');\n            this.syncCode(true);\n        },\n\n\n        // Function call when click on viewHTML button\n        toggle: function () {\n            var t = this,\n                prefix = t.o.prefix;\n\n            if (t.o.autogrowOnEnter) {\n                t.autogrowOnEnterDontClose = !t.$box.hasClass(prefix + 'editor-hidden');\n            }\n\n            t.semanticCode(false, true);\n            t.$c.trigger('tbwchange');\n\n            setTimeout(function () {\n                t.doc.activeElement.blur();\n                t.$box.toggleClass(prefix + 'editor-hidden ' + prefix + 'editor-visible');\n                t.$btnPane.toggleClass(prefix + 'disable');\n                $('.' + prefix + 'viewHTML-button', t.$btnPane).toggleClass(prefix + 'active');\n                if (t.$box.hasClass(prefix + 'editor-visible')) {\n                    t.$ta.attr('tabindex', -1);\n                } else {\n                    t.$ta.removeAttr('tabindex');\n                }\n\n                if (t.o.autogrowOnEnter && !t.autogrowOnEnterDontClose) {\n                    t.autogrowEditorOnEnter();\n                }\n            }, 0);\n        },\n\n        // Open dropdown when click on a button which open that\n        dropdown: function (name) {\n            var t = this,\n                $body = $('body', t.doc),\n                prefix = t.o.prefix,\n                $dropdown = $('[data-' + prefix + 'dropdown=' + name + ']', t.$box),\n                $btn = $('.' + prefix + name + '-button', t.$btnPane),\n                show = $dropdown.is(':hidden');\n\n            $body.trigger('mousedown');\n\n            if (show) {\n                var btnOffsetLeft = $btn.offset().left;\n                $btn.addClass(prefix + 'active');\n\n                $dropdown.css({\n                    position: 'absolute',\n                    top: $btn.offset().top - t.$btnPane.offset().top + $btn.outerHeight(),\n                    left: (t.o.fixedFullWidth && t.isFixed) ? btnOffsetLeft : (btnOffsetLeft - t.$btnPane.offset().left)\n                }).show();\n\n                $(window).trigger('scroll');\n\n                $body.on('mousedown.' + t.eventNamespace, function (e) {\n                    if (!$dropdown.is(e.target)) {\n                        $('.' + prefix + 'dropdown', t.$box).hide();\n                        $('.' + prefix + 'active', t.$btnPane).removeClass(prefix + 'active');\n                        $body.off('mousedown.' + t.eventNamespace);\n                    }\n                });\n            }\n        },\n\n\n        // HTML Code management\n        html: function (html) {\n            var t = this;\n\n            if (html != null) {\n                t.$ta.val(html);\n                t.syncCode(true);\n                t.$c.trigger('tbwchange');\n                return t;\n            }\n\n            return t.$ta.val();\n        },\n        syncTextarea: function () {\n            var t = this;\n            t.$ta.val(t.$ed.text().trim().length > 0 || t.$ed.find(t.o.tagsToKeep.join(',')).length > 0 ? t.$ed.html() : '');\n        },\n        syncCode: function (force) {\n            var t = this;\n            if (!force && t.$ed.is(':visible')) {\n                t.syncTextarea();\n            } else {\n                // wrap the content in a div it's easier to get the inner html\n                var html = $('<div>').html(t.$ta.val());\n                // scrub the html before loading into the doc\n                var safe = $('<div>').append(html);\n                $(t.o.tagsToRemove.join(','), safe).remove();\n                t.$ed.html(safe.contents().html());\n            }\n\n            if (t.o.autogrow) {\n                t.height = t.$ed.height();\n                if (t.height !== t.$ta.css('height')) {\n                    t.$ta.css({height: t.height});\n                    t.$c.trigger('tbwresize');\n                }\n            }\n            if (t.o.autogrowOnEnter) {\n                t.$ed.height('auto');\n                var totalHeight = t.autogrowOnEnterWasFocused ? t.$ed[0].scrollHeight : t.$ed.css('min-height');\n                if (totalHeight !== t.$ta.css('height')) {\n                    t.$ed.css({height: totalHeight});\n                    t.$c.trigger('tbwresize');\n                }\n            }\n        },\n\n        // Analyse and update to semantic code\n        // @param force : force to sync code from textarea\n        // @param full  : wrap text nodes in <p>\n        // @param keepRange  : leave selection range as it is\n        semanticCode: function (force, full, keepRange) {\n            var t = this;\n            t.saveRange();\n            t.syncCode(force);\n\n            if (t.o.semantic) {\n                t.semanticTag('b', t.o.semanticKeepAttributes);\n                t.semanticTag('i', t.o.semanticKeepAttributes);\n                t.semanticTag('s', t.o.semanticKeepAttributes);\n                t.semanticTag('strike', t.o.semanticKeepAttributes);\n\n                if (full) {\n                    var inlineElementsSelector = t.o.inlineElementsSelector,\n                        blockElementsSelector = ':not(' + inlineElementsSelector + ')';\n\n                    // Wrap text nodes in span for easier processing\n                    t.$ed.contents().filter(function () {\n                        return this.nodeType === 3 && this.nodeValue.trim().length > 0;\n                    }).wrap('<span data-tbw/>');\n\n                    // Wrap groups of inline elements in paragraphs (recursive)\n                    var wrapInlinesInParagraphsFrom = function ($from) {\n                        if ($from.length !== 0) {\n                            var $finalParagraph = $from.nextUntil(blockElementsSelector).addBack().wrapAll('<p/>').parent(),\n                                $nextElement = $finalParagraph.nextAll(inlineElementsSelector).first();\n                            $finalParagraph.next('br').remove();\n                            wrapInlinesInParagraphsFrom($nextElement);\n                        }\n                    };\n                    wrapInlinesInParagraphsFrom(t.$ed.children(inlineElementsSelector).first());\n\n                    t.semanticTag('div', true);\n\n                    // Get rid of temporary span's\n                    $('[data-tbw]', t.$ed).contents().unwrap();\n\n                    // Remove empty <p>\n                    t.$ed.find('p:empty').remove();\n                }\n\n                if (!keepRange) {\n                    t.restoreRange();\n                }\n\n                t.syncTextarea();\n            }\n        },\n\n        semanticTag: function (oldTag, copyAttributes) {\n            var newTag;\n\n            if (this.o.semantic != null && typeof this.o.semantic === 'object' && this.o.semantic.hasOwnProperty(oldTag)) {\n                newTag = this.o.semantic[oldTag];\n            } else if (this.o.semantic === true && this.DEFAULT_SEMANTIC_MAP.hasOwnProperty(oldTag)) {\n                newTag = this.DEFAULT_SEMANTIC_MAP[oldTag];\n            } else {\n                return;\n            }\n\n            $(oldTag, this.$ed).each(function () {\n                var $oldTag = $(this);\n                if($oldTag.contents().length === 0) {\n                    return false;\n                }\n\n                $oldTag.wrap('<' + newTag + '/>');\n                if (copyAttributes) {\n                    $.each($oldTag.prop('attributes'), function () {\n                        $oldTag.parent().attr(this.name, this.value);\n                    });\n                }\n                $oldTag.contents().unwrap();\n            });\n        },\n\n        // Function call when user click on \"Insert Link\"\n        createLink: function () {\n            var t = this,\n                documentSelection = t.doc.getSelection(),\n                selectedRange = documentSelection.getRangeAt(0),\n                node = documentSelection.focusNode,\n                text = new XMLSerializer().serializeToString(selectedRange.cloneContents()) || selectedRange + '',\n                url,\n                title,\n                target;\n\n            while (['A', 'DIV'].indexOf(node.nodeName) < 0) {\n                node = node.parentNode;\n            }\n\n            if (node && node.nodeName === 'A') {\n                var $a = $(node);\n                text = $a.text();\n                url = $a.attr('href');\n                if (!t.o.minimalLinks) {\n                    title = $a.attr('title');\n                    target = $a.attr('target');\n                }\n                var range = t.doc.createRange();\n                range.selectNode(node);\n                documentSelection.removeAllRanges();\n                documentSelection.addRange(range);\n            }\n\n            t.saveRange();\n\n            var options = {\n                url: {\n                    label: 'URL',\n                    required: true,\n                    value: url\n                },\n                text: {\n                    label: t.lang.text,\n                    value: text\n                }\n            };\n            if (!t.o.minimalLinks) {\n                $.extend(options, {\n                    title: {\n                        label: t.lang.title,\n                        value: title\n                    },\n                    target: {\n                        label: t.lang.target,\n                        value: target\n                    }\n                });\n            }\n\n            t.openModalInsert(t.lang.createLink, options, function (v) { // v is value\n                var url = t.prependUrlPrefix(v.url);\n                if (!url.length) {\n                    return false;\n                }\n\n                var link = $(['<a href=\"', url, '\">', v.text || v.url, '</a>'].join(''));\n\n                if (!t.o.minimalLinks) {\n                    if (v.title.length > 0) {\n                        link.attr('title', v.title);\n                    }\n                    if (v.target.length > 0) {\n                        link.attr('target', v.target);\n                    }\n                }\n                t.range.deleteContents();\n                t.range.insertNode(link[0]);\n                t.syncCode();\n                t.$c.trigger('tbwchange');\n                return true;\n            });\n        },\n        prependUrlPrefix: function (url) {\n            var t = this;\n            if (!t.urlPrefix) {\n                return url;\n            }\n\n            var VALID_LINK_PREFIX = /^([a-z][-+.a-z0-9]*:|\\/|#)/i;\n            if (VALID_LINK_PREFIX.test(url)) {\n                return url;\n            }\n\n            var SIMPLE_EMAIL_REGEX = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n            if (SIMPLE_EMAIL_REGEX.test(url)) {\n                return 'mailto:' + url;\n            }\n\n            return t.urlPrefix + url;\n        },\n        unlink: function () {\n            var t = this,\n                documentSelection = t.doc.getSelection(),\n                node = documentSelection.focusNode;\n\n            if (documentSelection.isCollapsed) {\n                while (['A', 'DIV'].indexOf(node.nodeName) < 0) {\n                    node = node.parentNode;\n                }\n\n                if (node && node.nodeName === 'A') {\n                    var range = t.doc.createRange();\n                    range.selectNode(node);\n                    documentSelection.removeAllRanges();\n                    documentSelection.addRange(range);\n                }\n            }\n            t.execCmd('unlink', undefined, undefined, true);\n        },\n        insertImage: function () {\n            var t = this;\n            t.saveRange();\n\n            var options = {\n                url: {\n                    label: 'URL',\n                    required: true\n                },\n                alt: {\n                    label: t.lang.description,\n                    value: t.getRangeText()\n                }\n            };\n\n            if (t.o.imageWidthModalEdit) {\n                options.width = {};\n            }\n\n            t.openModalInsert(t.lang.insertImage, options, function (v) { // v are values\n                t.execCmd('insertImage', v.url, false, true);\n                var $img = $('img[src=\"' + v.url + '\"]:not([alt])', t.$box);\n                $img.attr('alt', v.alt);\n\n                if (t.o.imageWidthModalEdit) {\n                    $img.attr({\n                        width: v.width\n                    });\n                }\n\n                t.syncCode();\n                t.$c.trigger('tbwchange');\n\n                return true;\n            });\n        },\n        fullscreen: function () {\n            var t = this,\n                prefix = t.o.prefix,\n                fullscreenCssClass = prefix + 'fullscreen',\n                fullscreenPlaceholderClass = fullscreenCssClass + '-placeholder',\n                isFullscreen,\n                editorHeight = t.$box.outerHeight();\n\n            t.$box.toggleClass(fullscreenCssClass);\n            isFullscreen = t.$box.hasClass(fullscreenCssClass);\n\n            if (isFullscreen) {\n                t.$box.before(\n                    $('<div/>', {\n                        class: fullscreenPlaceholderClass\n                    }).css({\n                        height: editorHeight\n                    })\n                );\n            } else {\n                $('.' + fullscreenPlaceholderClass).remove();\n            }\n\n            $('body').toggleClass(prefix + 'body-fullscreen', isFullscreen);\n            $(window).trigger('scroll');\n            t.$c.trigger('tbw' + (isFullscreen ? 'open' : 'close') + 'fullscreen');\n        },\n\n\n        /*\n         * Call method of trumbowyg if exist\n         * else try to call anonymous function\n         * and finally native execCommand\n         */\n        execCmd: function (cmd, param, forceCss, skipTrumbowyg) {\n            var t = this;\n            skipTrumbowyg = !!skipTrumbowyg || '';\n\n            if (cmd !== 'dropdown') {\n                t.$ed.focus();\n            }\n\n            try {\n                t.doc.execCommand('styleWithCSS', false, forceCss || false);\n            } catch (c) {\n            }\n\n            try {\n                t[cmd + skipTrumbowyg](param);\n            } catch (c) {\n                try {\n                    cmd(param);\n                } catch (e2) {\n                    if (cmd === 'insertHorizontalRule') {\n                        param = undefined;\n                    } else if (cmd === 'formatBlock' && t.isIE) {\n                        param = '<' + param + '>';\n                    }\n\n                    t.doc.execCommand(cmd, false, param);\n\n                    t.syncCode();\n                    t.semanticCode(false, true);\n                }\n\n                if (cmd !== 'dropdown') {\n                    t.updateButtonPaneStatus();\n                    t.$c.trigger('tbwchange');\n                }\n            }\n        },\n\n\n        // Open a modal box\n        openModal: function (title, content, buildForm) {\n            var t = this,\n                prefix = t.o.prefix;\n\n            buildForm = buildForm !== false;\n\n            // No open a modal box when exist other modal box\n            if ($('.' + prefix + 'modal-box', t.$box).length > 0) {\n                return false;\n            }\n            if (t.o.autogrowOnEnter) {\n                t.autogrowOnEnterDontClose = true;\n            }\n\n            t.saveRange();\n            t.showOverlay();\n\n            // Disable all btnPane btns\n            t.$btnPane.addClass(prefix + 'disable');\n\n            // Build out of ModalBox, it's the mask for animations\n            var $modal = $('<div/>', {\n                class: prefix + 'modal ' + prefix + 'fixed-top'\n            }).css({\n                top: t.$box.offset().top + t.$btnPane.height(),\n                zIndex: 99999\n            }).appendTo($(t.doc.body));\n\n            // Click on overlay close modal by cancelling them\n            t.$overlay.one('click', function () {\n                $modal.trigger(CANCEL_EVENT);\n                return false;\n            });\n\n            // Build the form\n            var formOrContent;\n            if (buildForm) {\n                formOrContent = $('<form/>', {\n                    action: '',\n                    html: content\n                })\n                  .on('submit', function () {\n                      $modal.trigger(CONFIRM_EVENT);\n                      return false;\n                  })\n                  .on('reset', function () {\n                      $modal.trigger(CANCEL_EVENT);\n                      return false;\n                  })\n                  .on('submit reset', function () {\n                      if (t.o.autogrowOnEnter) {\n                          t.autogrowOnEnterDontClose = false;\n                      }\n                  });\n            } else {\n                formOrContent = content;\n            }\n\n\n            // Build ModalBox and animate to show them\n            var $box = $('<div/>', {\n                class: prefix + 'modal-box',\n                html: formOrContent\n            })\n                .css({\n                    top: '-' + t.$btnPane.outerHeight(),\n                    opacity: 0,\n                    paddingBottom: buildForm ? null : '5%',\n                })\n                .appendTo($modal)\n                .animate({\n                    top: 0,\n                    opacity: 1\n                }, 100);\n\n\n            // Append title\n            if (title) {\n                $('<span/>', {\n                    text: title,\n                    class: prefix + 'modal-title'\n                }).prependTo($box);\n            }\n\n            if (buildForm) {\n                // Focus in modal box\n                $('input:first', $box).focus();\n\n                // Append Confirm and Cancel buttons\n                t.buildModalBtn('submit', $box);\n                t.buildModalBtn('reset', $box);\n\n                $modal.height($box.outerHeight() + 10);\n            }\n\n            $(window).trigger('scroll');\n\n            return $modal;\n        },\n        // @param n is name of modal\n        buildModalBtn: function (n, $modal) {\n            var t = this,\n                prefix = t.o.prefix;\n\n            return $('<button/>', {\n                class: prefix + 'modal-button ' + prefix + 'modal-' + n,\n                type: n,\n                text: t.lang[n] || n\n            }).appendTo($('form', $modal));\n        },\n        // close current modal box\n        closeModal: function () {\n            var t = this,\n                prefix = t.o.prefix;\n\n            t.$btnPane.removeClass(prefix + 'disable');\n            t.$overlay.off();\n\n            // Find the modal box\n            var $modalBox = $('.' + prefix + 'modal-box', $(t.doc.body));\n\n            $modalBox.animate({\n                top: '-' + $modalBox.height()\n            }, 100, function () {\n                $modalBox.parent().remove();\n                t.hideOverlay();\n            });\n\n            t.restoreRange();\n        },\n        // Pre-formatted build and management modal\n        openModalInsert: function (title, fields, cmd) {\n            var t = this,\n                prefix = t.o.prefix,\n                lg = t.lang,\n                html = '';\n\n            $.each(fields, function (fieldName, field) {\n                var l = field.label || fieldName,\n                    n = field.name || fieldName,\n                    a = field.attributes || {};\n\n                var attr = Object.keys(a).map(function (prop) {\n                    return prop + '=\"' + a[prop] + '\"';\n                }).join(' ');\n\n                html += '<label><input type=\"' + (field.type || 'text') + '\" name=\"' + n + '\"' +\n                    (field.type === 'checkbox' && field.value ? ' checked=\"checked\"' : ' value=\"' + (field.value || '').replace(/\"/g, '&quot;')) +\n                    '\"' + attr + '><span class=\"' + prefix + 'input-infos\"><span>' +\n                    (lg[l] ? lg[l] : l) +\n                    '</span></span></label>';\n            });\n\n            return t.openModal(title, html)\n                .on(CONFIRM_EVENT, function () {\n                    var $form = $('form', $(this)),\n                        valid = true,\n                        values = {};\n\n                    $.each(fields, function (fieldName, field) {\n                        var n = field.name || fieldName;\n\n                        var $field = $('input[name=\"' + n + '\"]', $form),\n                            inputType = $field.attr('type');\n\n                        switch (inputType.toLowerCase()) {\n                            case 'checkbox':\n                                values[n] = $field.is(':checked');\n                                break;\n                            case 'radio':\n                                values[n] = $field.filter(':checked').val();\n                                break;\n                            default:\n                                values[n] = $.trim($field.val());\n                                break;\n                        }\n                        // Validate value\n                        if (field.required && values[n] === '') {\n                            valid = false;\n                            t.addErrorOnModalField($field, t.lang.required);\n                        } else if (field.pattern && !field.pattern.test(values[n])) {\n                            valid = false;\n                            t.addErrorOnModalField($field, field.patternError);\n                        }\n                    });\n\n                    if (valid) {\n                        t.restoreRange();\n\n                        if (cmd(values, fields)) {\n                            t.syncCode();\n                            t.$c.trigger('tbwchange');\n                            t.closeModal();\n                            $(this).off(CONFIRM_EVENT);\n                        }\n                    }\n                })\n                .one(CANCEL_EVENT, function () {\n                    $(this).off(CONFIRM_EVENT);\n                    t.closeModal();\n                });\n        },\n        addErrorOnModalField: function ($field, err) {\n            var prefix = this.o.prefix,\n                spanErrorClass = prefix + 'msg-error',\n                $label = $field.parent();\n\n            $field\n                .on('change keyup', function () {\n                    $label.removeClass(prefix + 'input-error');\n                    setTimeout(function () {\n                        $label.find('.' + spanErrorClass).remove();\n                    }, 150);\n                });\n\n            $label\n                .addClass(prefix + 'input-error')\n                .find('input+span')\n                .append(\n                    $('<span/>', {\n                        class: spanErrorClass,\n                        text: err\n                    })\n                );\n        },\n\n        getDefaultImgDblClickHandler: function () {\n            var t = this;\n\n            return function () {\n                var $img = $(this),\n                    src = $img.attr('src'),\n                    base64 = '(Base64)';\n\n                if (src.indexOf('data:image') === 0) {\n                    src = base64;\n                }\n\n                var options = {\n                    url: {\n                        label: 'URL',\n                        value: src,\n                        required: true\n                    },\n                    alt: {\n                        label: t.lang.description,\n                        value: $img.attr('alt')\n                    }\n                };\n\n                if (t.o.imageWidthModalEdit) {\n                    options.width = {\n                        value: $img.attr('width') ? $img.attr('width') : ''\n                    };\n                }\n\n                t.openModalInsert(t.lang.insertImage, options, function (v) {\n                    if (v.url !== base64) {\n                        $img.attr({\n                            src: v.url\n                        });\n                    }\n                    $img.attr({\n                        alt: v.alt\n                    });\n\n                    if (t.o.imageWidthModalEdit) {\n                        if (parseInt(v.width) > 0) {\n                            $img.attr({\n                                width: v.width\n                            });\n                        } else {\n                            $img.removeAttr('width');\n                        }\n                    }\n\n                    return true;\n                });\n                return false;\n            };\n        },\n\n        // Range management\n        saveRange: function () {\n            var t = this,\n                documentSelection = t.doc.getSelection();\n\n            t.range = null;\n\n            if (!documentSelection || !documentSelection.rangeCount) {\n                return;\n            }\n\n            var savedRange = t.range = documentSelection.getRangeAt(0),\n                range = t.doc.createRange(),\n                rangeStart;\n            range.selectNodeContents(t.$ed[0]);\n            range.setEnd(savedRange.startContainer, savedRange.startOffset);\n            rangeStart = (range + '').length;\n            t.metaRange = {\n                start: rangeStart,\n                end: rangeStart + (savedRange + '').length\n            };\n        },\n        restoreRange: function () {\n            var t = this,\n                metaRange = t.metaRange,\n                savedRange = t.range,\n                documentSelection = t.doc.getSelection(),\n                range;\n\n            if (!savedRange) {\n                return;\n            }\n\n            if (metaRange && metaRange.start !== metaRange.end) { // Algorithm from http://jsfiddle.net/WeWy7/3/\n                var charIndex = 0,\n                    nodeStack = [t.$ed[0]],\n                    node,\n                    foundStart = false,\n                    stop = false;\n\n                range = t.doc.createRange();\n\n                while (!stop && (node = nodeStack.pop())) {\n                    if (node.nodeType === 3) {\n                        var nextCharIndex = charIndex + node.length;\n                        if (!foundStart && metaRange.start >= charIndex && metaRange.start <= nextCharIndex) {\n                            range.setStart(node, metaRange.start - charIndex);\n                            foundStart = true;\n                        }\n                        if (foundStart && metaRange.end >= charIndex && metaRange.end <= nextCharIndex) {\n                            range.setEnd(node, metaRange.end - charIndex);\n                            stop = true;\n                        }\n                        charIndex = nextCharIndex;\n                    } else {\n                        var cn = node.childNodes,\n                            i = cn.length;\n\n                        while (i > 0) {\n                            i -= 1;\n                            nodeStack.push(cn[i]);\n                        }\n                    }\n                }\n            }\n\n            // Fix IE11 Error 'Could not complete the operation due to error 800a025e'.\n            // https://stackoverflow.com/questions/16160996/could-not-complete-the-operation-due-to-error-800a025e\n            try {\n                documentSelection.removeAllRanges();\n            } catch (e) {\n            }\n\n            documentSelection.addRange(range || savedRange);\n        },\n        getRangeText: function () {\n            return this.range + '';\n        },\n\n        clearButtonPaneStatus: function () {\n            var t = this,\n              prefix = t.o.prefix,\n              activeClasses = prefix + 'active-button ' + prefix + 'active',\n              originalIconClass = prefix + 'original-icon';\n\n            // Reset all buttons and dropdown state\n            $('.' + prefix + 'active-button', t.$btnPane).removeClass(activeClasses);\n            $('.' + originalIconClass, t.$btnPane).each(function () {\n                $(this).find('svg use').attr('xlink:href', $(this).data(originalIconClass));\n            });\n        },\n        updateButtonPaneStatus: function () {\n            var t = this,\n                prefix = t.o.prefix,\n                activeClasses = prefix + 'active-button ' + prefix + 'active',\n                originalIconClass = prefix + 'original-icon',\n                tags = t.getTagsRecursive(t.doc.getSelection().focusNode);\n\n            t.clearButtonPaneStatus();\n\n            $.each(tags, function (i, tag) {\n                var btnName = t.tagToButton[tag.toLowerCase()],\n                    $btn = $('.' + prefix + btnName + '-button', t.$btnPane);\n\n                if ($btn.length > 0) {\n                    $btn.addClass(activeClasses);\n                } else {\n                    try {\n                        $btn = $('.' + prefix + 'dropdown .' + prefix + btnName + '-dropdown-button', t.$box);\n                        var $btnSvgUse = $btn.find('svg use'),\n                            dropdownBtnName = $btn.parent().data(prefix + 'dropdown'),\n                            $dropdownBtn = $('.' + prefix + dropdownBtnName + '-button', t.$box),\n                            $dropdownBtnSvgUse = $dropdownBtn.find('svg use');\n\n                        // Highlight the dropdown button\n                        $dropdownBtn.addClass(activeClasses);\n\n                        // Switch dropdown icon to the active sub-icon one\n                        if (t.o.changeActiveDropdownIcon && $btnSvgUse.length > 0) {\n                            // Save original icon\n                            $dropdownBtn\n                              .addClass(originalIconClass)\n                              .data(originalIconClass, $dropdownBtnSvgUse.attr('xlink:href'));\n\n                            // Put the active sub-button's icon\n                            $dropdownBtnSvgUse\n                              .attr('xlink:href', $btnSvgUse.attr('xlink:href'));\n                        }\n                    } catch (e) {\n                    }\n                }\n            });\n        },\n        getTagsRecursive: function (element, tags) {\n            var t = this;\n            tags = tags || (element && element.tagName ? [element.tagName] : []);\n\n            if (element && element.parentNode) {\n                element = element.parentNode;\n            } else {\n                return tags;\n            }\n\n            var tag = element.tagName;\n            if (tag === 'DIV') {\n                return tags;\n            }\n            if (tag === 'P' && element.style.textAlign !== '') {\n                tags.push(element.style.textAlign);\n            }\n\n            $.each(t.tagHandlers, function (i, tagHandler) {\n                tags = tags.concat(tagHandler(element, t));\n            });\n\n            tags.push(tag);\n\n            return t.getTagsRecursive(element, tags).filter(function (tag) {\n                return tag != null;\n            });\n        },\n\n        // Plugins\n        initPlugins: function () {\n            var t = this;\n            t.loadedPlugins = [];\n            $.each($.trumbowyg.plugins, function (name, plugin) {\n                if (!plugin.shouldInit || plugin.shouldInit(t)) {\n                    plugin.init(t);\n                    if (plugin.tagHandler) {\n                        t.tagHandlers.push(plugin.tagHandler);\n                    }\n                    t.loadedPlugins.push(plugin);\n                }\n            });\n        },\n        destroyPlugins: function () {\n            var t = this;\n            $.each(this.loadedPlugins, function (i, plugin) {\n                if (plugin.destroy) {\n                    plugin.destroy(t);\n                }\n            });\n        }\n    };\n})(navigator, window, document, jQuery);\n","/* ===========================================================\n * trumbowyg.emoji.js v0.1\n * Emoji picker plugin for Trumbowyg\n * http://alex-d.github.com/Trumbowyg\n * ===========================================================\n * Author : Nicolas Pion\n *          Twitter : @nicolas_pion\n */\n\n(function ($) {\n    'use strict';\n\n    var defaultOptions = {\n        emojiList: [\n            '&#x2049',\n            '&#x2122',\n            '&#x2139',\n            '&#x2194',\n            '&#x2195',\n            '&#x2196',\n            '&#x2197',\n            '&#x2198',\n            '&#x2199',\n            '&#x2328',\n            '&#x2600',\n            '&#x2601',\n            '&#x2602',\n            '&#x2603',\n            '&#x2604',\n            '&#x2611',\n            '&#x2614',\n            '&#x2615',\n            '&#x2618',\n            '&#x2620',\n            '&#x2622',\n            '&#x2623',\n            '&#x2626',\n            '&#x2638',\n            '&#x2639',\n            '&#x2640',\n            '&#x2642',\n            '&#x2648',\n            '&#x2649',\n            '&#x2650',\n            '&#x2651',\n            '&#x2652',\n            '&#x2653',\n            '&#x2660',\n            '&#x2663',\n            '&#x2665',\n            '&#x2666',\n            '&#x2668',\n            '&#x2692',\n            '&#x2693',\n            '&#x2694',\n            '&#x2695',\n            '&#x2696',\n            '&#x2697',\n            '&#x2699',\n            '&#x2702',\n            '&#x2705',\n            '&#x2708',\n            '&#x2709',\n            '&#x2712',\n            '&#x2714',\n            '&#x2716',\n            '&#x2721',\n            '&#x2728',\n            '&#x2733',\n            '&#x2734',\n            '&#x2744',\n            '&#x2747',\n            '&#x2753',\n            '&#x2754',\n            '&#x2755',\n            '&#x2757',\n            '&#x2763',\n            '&#x2764',\n            '&#x2795',\n            '&#x2796',\n            '&#x2797',\n            '&#x2934',\n            '&#x2935',\n            '&#x3030',\n            '&#x3297',\n            '&#x3299',\n            '&#x1F9E1',\n            '&#x1F49B',\n            '&#x1F49A',\n            '&#x1F499',\n            '&#x1F49C',\n            '&#x1F5A4',\n            '&#x1F494',\n            '&#x1F495',\n            '&#x1F49E',\n            '&#x1F493',\n            '&#x1F497',\n            '&#x1F496',\n            '&#x1F498',\n            '&#x1F49D',\n            '&#x1F49F',\n            '&#x262E',\n            '&#x271D',\n            '&#x262A',\n            '&#x1F549',\n            '&#x1F52F',\n            '&#x1F54E',\n            '&#x262F',\n            '&#x1F6D0',\n            '&#x26CE',\n            '&#x264A',\n            '&#x264B',\n            '&#x264C',\n            '&#x264D',\n            '&#x264E',\n            '&#x264F',\n            '&#x1F194',\n            '&#x269B',\n            '&#x267E',\n            '&#x1F251',\n            '&#x1F4F4',\n            '&#x1F4F3',\n            '&#x1F236',\n            '&#x1F21A',\n            '&#x1F238',\n            '&#x1F23A',\n            '&#x1F237',\n            '&#x1F19A',\n            '&#x1F4AE',\n            '&#x1F250',\n            '&#x1F234',\n            '&#x1F235',\n            '&#x1F239',\n            '&#x1F232',\n            '&#x1F170',\n            '&#x1F171',\n            '&#x1F18E',\n            '&#x1F191',\n            '&#x1F17E',\n            '&#x1F198',\n            '&#x274C',\n            '&#x2B55',\n            '&#x1F6D1',\n            '&#x26D4',\n            '&#x1F4DB',\n            '&#x1F6AB',\n            '&#x1F4AF',\n            '&#x1F4A2',\n            '&#x1F6B7',\n            '&#x1F6AF',\n            '&#x1F6B3',\n            '&#x1F6B1',\n            '&#x1F51E',\n            '&#x1F4F5',\n            '&#x1F6AD',\n            '&#x203C',\n            '&#x1F505',\n            '&#x1F506',\n            '&#x303D',\n            '&#x26A0',\n            '&#x1F6B8',\n            '&#x1F531',\n            '&#x269C',\n            '&#x1F530',\n            '&#x267B',\n            '&#x1F22F',\n            '&#x1F4B9',\n            '&#x274E',\n            '&#x1F310',\n            '&#x1F4A0',\n            '&#x24C2',\n            '&#x1F300',\n            '&#x1F4A4',\n            '&#x1F3E7',\n            '&#x1F6BE',\n            '&#x267F',\n            '&#x1F17F',\n            '&#x1F233',\n            '&#x1F202',\n            '&#x1F6C2',\n            '&#x1F6C3',\n            '&#x1F6C4',\n            '&#x1F6C5',\n            '&#x1F6B9',\n            '&#x1F6BA',\n            '&#x1F6BC',\n            '&#x1F6BB',\n            '&#x1F6AE',\n            '&#x1F3A6',\n            '&#x1F4F6',\n            '&#x1F201',\n            '&#x1F523',\n            '&#x1F524',\n            '&#x1F521',\n            '&#x1F520',\n            '&#x1F196',\n            '&#x1F197',\n            '&#x1F199',\n            '&#x1F192',\n            '&#x1F195',\n            '&#x1F193',\n            '&#x0030',\n            '&#x0031',\n            '&#x0032',\n            '&#x0033',\n            '&#x0034',\n            '&#x0035',\n            '&#x0036',\n            '&#x0037',\n            '&#x0038',\n            '&#x0039',\n            '&#x1F51F',\n            '&#x1F522',\n            '&#x0023',\n            '&#x002A',\n            '&#x23CF',\n            '&#x25B6',\n            '&#x23F8',\n            '&#x23EF',\n            '&#x23F9',\n            '&#x23FA',\n            '&#x23ED',\n            '&#x23EE',\n            '&#x23E9',\n            '&#x23EA',\n            '&#x23EB',\n            '&#x23EC',\n            '&#x25C0',\n            '&#x1F53C',\n            '&#x1F53D',\n            '&#x27A1',\n            '&#x2B05',\n            '&#x2B06',\n            '&#x2B07',\n            '&#x21AA',\n            '&#x21A9',\n            '&#x1F500',\n            '&#x1F501',\n            '&#x1F502',\n            '&#x1F504',\n            '&#x1F503',\n            '&#x1F3B5',\n            '&#x1F3B6',\n            '&#x1F4B2',\n            '&#x1F4B1',\n            '&#x00A9',\n            '&#x00AE',\n            '&#x27B0',\n            '&#x27BF',\n            '&#x1F51A',\n            '&#x1F519',\n            '&#x1F51B',\n            '&#x1F51D',\n            '&#x1F51C',\n            '&#x1F518',\n            '&#x26AA',\n            '&#x26AB',\n            '&#x1F534',\n            '&#x1F535',\n            '&#x1F53A',\n            '&#x1F53B',\n            '&#x1F538',\n            '&#x1F539',\n            '&#x1F536',\n            '&#x1F537',\n            '&#x1F533',\n            '&#x1F532',\n            '&#x25AA',\n            '&#x25AB',\n            '&#x25FE',\n            '&#x25FD',\n            '&#x25FC',\n            '&#x25FB',\n            '&#x2B1B',\n            '&#x2B1C',\n            '&#x1F508',\n            '&#x1F507',\n            '&#x1F509',\n            '&#x1F50A',\n            '&#x1F514',\n            '&#x1F515',\n            '&#x1F4E3',\n            '&#x1F4E2',\n            '&#x1F5E8',\n            '&#x1F441',\n            '&#x1F4AC',\n            '&#x1F4AD',\n            '&#x1F5EF',\n            '&#x1F0CF',\n            '&#x1F3B4',\n            '&#x1F004',\n            '&#x1F550',\n            '&#x1F551',\n            '&#x1F552',\n            '&#x1F553',\n            '&#x1F554',\n            '&#x1F555',\n            '&#x1F556',\n            '&#x1F557',\n            '&#x1F558',\n            '&#x1F559',\n            '&#x1F55A',\n            '&#x1F55B',\n            '&#x1F55C',\n            '&#x1F55D',\n            '&#x1F55E',\n            '&#x1F55F',\n            '&#x1F560',\n            '&#x1F561',\n            '&#x1F562',\n            '&#x1F563',\n            '&#x1F564',\n            '&#x1F565',\n            '&#x1F566',\n            '&#x1F567',\n            '&#x26BD',\n            '&#x1F3C0',\n            '&#x1F3C8',\n            '&#x26BE',\n            '&#x1F94E',\n            '&#x1F3BE',\n            '&#x1F3D0',\n            '&#x1F3C9',\n            '&#x1F3B1',\n            '&#x1F3D3',\n            '&#x1F3F8',\n            '&#x1F945',\n            '&#x1F3D2',\n            '&#x1F3D1',\n            '&#x1F3CF',\n            '&#x1F94D',\n            '&#x26F3',\n            '&#x1F94F',\n            '&#x1F3F9',\n            '&#x1F3A3',\n            '&#x1F94A',\n            '&#x1F94B',\n            '&#x1F3BD',\n            '&#x1F6F9',\n            '&#x26F8',\n            '&#x1F94C',\n            '&#x1F6F7',\n            '&#x1F3BF',\n            '&#x26F7',\n            '&#x1F3C2',\n            '&#x1F3CB',\n            '&#x1F93C',\n            '&#x1F938',\n            '&#x26F9',\n            '&#x1F93A',\n            '&#x1F93E',\n            '&#x1F3CC',\n            '&#x1F3C7',\n            '&#x1F9D8',\n            '&#x1F3C4',\n            '&#x1F3CA',\n            '&#x1F93D',\n            '&#x1F6A3',\n            '&#x1F9D7',\n            '&#x1F6B5',\n            '&#x1F6B4',\n            '&#x1F3C6',\n            '&#x1F947',\n            '&#x1F948',\n            '&#x1F949',\n            '&#x1F3C5',\n            '&#x1F396',\n            '&#x1F3F5',\n            '&#x1F397',\n            '&#x1F3AB',\n            '&#x1F39F',\n            '&#x1F3AA',\n            '&#x1F939',\n            '&#x1F3AD',\n            '&#x1F3A8',\n            '&#x1F3AC',\n            '&#x1F3A4',\n            '&#x1F3A7',\n            '&#x1F3BC',\n            '&#x1F3B9',\n            '&#x1F941',\n            '&#x1F3B7',\n            '&#x1F3BA',\n            '&#x1F3B8',\n            '&#x1F3BB',\n            '&#x1F3B2',\n            '&#x1F3AF',\n            '&#x1F3B3',\n            '&#x1F3AE',\n            '&#x1F3B0',\n            '&#x231A',\n            '&#x1F4F1',\n            '&#x1F4F2',\n            '&#x1F4BB',\n            '&#x1F5A5',\n            '&#x1F5A8',\n            '&#x1F5B1',\n            '&#x1F5B2',\n            '&#x1F579',\n            '&#x265F',\n            '&#x1F9E9',\n            '&#x1F5DC',\n            '&#x1F4BD',\n            '&#x1F4BE',\n            '&#x1F4BF',\n            '&#x1F4C0',\n            '&#x1F4FC',\n            '&#x1F4F7',\n            '&#x1F4F8',\n            '&#x1F4F9',\n            '&#x1F3A5',\n            '&#x1F4FD',\n            '&#x1F39E',\n            '&#x1F4DE',\n            '&#x260E',\n            '&#x1F4DF',\n            '&#x1F4E0',\n            '&#x1F4FA',\n            '&#x1F4FB',\n            '&#x1F399',\n            '&#x1F39A',\n            '&#x1F39B',\n            '&#x23F1',\n            '&#x23F2',\n            '&#x23F0',\n            '&#x1F570',\n            '&#x231B',\n            '&#x23F3',\n            '&#x1F4E1',\n            '&#x1F9ED',\n            '&#x1F50B',\n            '&#x1F50C',\n            '&#x1F9F2',\n            '&#x1F4A1',\n            '&#x1F526',\n            '&#x1F56F',\n            '&#x1F9EF',\n            '&#x1F5D1',\n            '&#x1F6E2',\n            '&#x1F4B8',\n            '&#x1F4B5',\n            '&#x1F4B4',\n            '&#x1F4B6',\n            '&#x1F4B7',\n            '&#x1F4B0',\n            '&#x1F4B3',\n            '&#x1F48E',\n            '&#x1F9FF',\n            '&#x1F9F1',\n            '&#x1F9F0',\n            '&#x1F527',\n            '&#x1F528',\n            '&#x1F6E0',\n            '&#x26CF',\n            '&#x1F529',\n            '&#x26D3',\n            '&#x1F52B',\n            '&#x1F4A3',\n            '&#x1F52A',\n            '&#x1F5E1',\n            '&#x1F6E1',\n            '&#x1F6AC',\n            '&#x26B0',\n            '&#x26B1',\n            '&#x1F3FA',\n            '&#x1F52E',\n            '&#x1F4FF',\n            '&#x1F488',\n            '&#x1F9EA',\n            '&#x1F9EB',\n            '&#x1F9EC',\n            '&#x1F9EE',\n            '&#x1F52D',\n            '&#x1F52C',\n            '&#x1F573',\n            '&#x1F48A',\n            '&#x1F489',\n            '&#x1F321',\n            '&#x1F6BD',\n            '&#x1F6B0',\n            '&#x1F6BF',\n            '&#x1F6C1',\n            '&#x1F6C0',\n            '&#x1F9F9',\n            '&#x1F9FA',\n            '&#x1F9FB',\n            '&#x1F9FC',\n            '&#x1F9FD',\n            '&#x1F9F4',\n            '&#x1F9F5',\n            '&#x1F9F6',\n            '&#x1F6CE',\n            '&#x1F511',\n            '&#x1F5DD',\n            '&#x1F6AA',\n            '&#x1F6CB',\n            '&#x1F6CF',\n            '&#x1F6CC',\n            '&#x1F9F8',\n            '&#x1F5BC',\n            '&#x1F6CD',\n            '&#x1F6D2',\n            '&#x1F381',\n            '&#x1F388',\n            '&#x1F38F',\n            '&#x1F380',\n            '&#x1F38A',\n            '&#x1F389',\n            '&#x1F38E',\n            '&#x1F3EE',\n            '&#x1F390',\n            '&#x1F9E7',\n            '&#x1F4E9',\n            '&#x1F4E8',\n            '&#x1F4E7',\n            '&#x1F48C',\n            '&#x1F4E5',\n            '&#x1F4E4',\n            '&#x1F4E6',\n            '&#x1F3F7',\n            '&#x1F4EA',\n            '&#x1F4EB',\n            '&#x1F4EC',\n            '&#x1F4ED',\n            '&#x1F4EE',\n            '&#x1F4EF',\n            '&#x1F4DC',\n            '&#x1F4C3',\n            '&#x1F4C4',\n            '&#x1F9FE',\n            '&#x1F4D1',\n            '&#x1F4CA',\n            '&#x1F4C8',\n            '&#x1F4C9',\n            '&#x1F5D2',\n            '&#x1F5D3',\n            '&#x1F4C6',\n            '&#x1F4C5',\n            '&#x1F4C7',\n            '&#x1F5C3',\n            '&#x1F5F3',\n            '&#x1F5C4',\n            '&#x1F4CB',\n            '&#x1F4C1',\n            '&#x1F4C2',\n            '&#x1F5C2',\n            '&#x1F5DE',\n            '&#x1F4F0',\n            '&#x1F4D3',\n            '&#x1F4D4',\n            '&#x1F4D2',\n            '&#x1F4D5',\n            '&#x1F4D7',\n            '&#x1F4D8',\n            '&#x1F4D9',\n            '&#x1F4DA',\n            '&#x1F4D6',\n            '&#x1F516',\n            '&#x1F517',\n            '&#x1F4CE',\n            '&#x1F587',\n            '&#x1F4D0',\n            '&#x1F4CF',\n            '&#x1F9F7',\n            '&#x1F4CC',\n            '&#x1F4CD',\n            '&#x1F58A',\n            '&#x1F58B',\n            '&#x1F58C',\n            '&#x1F58D',\n            '&#x1F4DD',\n            '&#x270F',\n            '&#x1F50D',\n            '&#x1F50E',\n            '&#x1F50F',\n            '&#x1F510',\n            '&#x1F436',\n            '&#x1F431',\n            '&#x1F42D',\n            '&#x1F439',\n            '&#x1F430',\n            '&#x1F98A',\n            '&#x1F99D',\n            '&#x1F43B',\n            '&#x1F43C',\n            '&#x1F998',\n            '&#x1F9A1',\n            '&#x1F428',\n            '&#x1F42F',\n            '&#x1F981',\n            '&#x1F42E',\n            '&#x1F437',\n            '&#x1F43D',\n            '&#x1F438',\n            '&#x1F435',\n            '&#x1F648',\n            '&#x1F649',\n            '&#x1F64A',\n            '&#x1F412',\n            '&#x1F414',\n            '&#x1F427',\n            '&#x1F426',\n            '&#x1F424',\n            '&#x1F423',\n            '&#x1F425',\n            '&#x1F986',\n            '&#x1F9A2',\n            '&#x1F985',\n            '&#x1F989',\n            '&#x1F99C',\n            '&#x1F99A',\n            '&#x1F987',\n            '&#x1F43A',\n            '&#x1F417',\n            '&#x1F434',\n            '&#x1F984',\n            '&#x1F41D',\n            '&#x1F41B',\n            '&#x1F98B',\n            '&#x1F40C',\n            '&#x1F41A',\n            '&#x1F41E',\n            '&#x1F41C',\n            '&#x1F997',\n            '&#x1F577',\n            '&#x1F578',\n            '&#x1F982',\n            '&#x1F99F',\n            '&#x1F9A0',\n            '&#x1F422',\n            '&#x1F40D',\n            '&#x1F98E',\n            '&#x1F996',\n            '&#x1F995',\n            '&#x1F419',\n            '&#x1F991',\n            '&#x1F990',\n            '&#x1F980',\n            '&#x1F99E',\n            '&#x1F421',\n            '&#x1F420',\n            '&#x1F41F',\n            '&#x1F42C',\n            '&#x1F433',\n            '&#x1F40B',\n            '&#x1F988',\n            '&#x1F40A',\n            '&#x1F405',\n            '&#x1F406',\n            '&#x1F993',\n            '&#x1F98D',\n            '&#x1F418',\n            '&#x1F98F',\n            '&#x1F99B',\n            '&#x1F42A',\n            '&#x1F42B',\n            '&#x1F992',\n            '&#x1F999',\n            '&#x1F403',\n            '&#x1F402',\n            '&#x1F404',\n            '&#x1F40E',\n            '&#x1F416',\n            '&#x1F40F',\n            '&#x1F411',\n            '&#x1F410',\n            '&#x1F98C',\n            '&#x1F415',\n            '&#x1F429',\n            '&#x1F408',\n            '&#x1F413',\n            '&#x1F983',\n            '&#x1F54A',\n            '&#x1F407',\n            '&#x1F401',\n            '&#x1F400',\n            '&#x1F43F',\n            '&#x1F994',\n            '&#x1F43E',\n            '&#x1F409',\n            '&#x1F432',\n            '&#x1F335',\n            '&#x1F384',\n            '&#x1F332',\n            '&#x1F333',\n            '&#x1F334',\n            '&#x1F331',\n            '&#x1F33F',\n            '&#x1F340',\n            '&#x1F38D',\n            '&#x1F38B',\n            '&#x1F343',\n            '&#x1F342',\n            '&#x1F341',\n            '&#x1F344',\n            '&#x1F33E',\n            '&#x1F490',\n            '&#x1F337',\n            '&#x1F339',\n            '&#x1F940',\n            '&#x1F33A',\n            '&#x1F338',\n            '&#x1F33C',\n            '&#x1F33B',\n            '&#x1F31E',\n            '&#x1F31D',\n            '&#x1F31B',\n            '&#x1F31C',\n            '&#x1F31A',\n            '&#x1F315',\n            '&#x1F316',\n            '&#x1F317',\n            '&#x1F318',\n            '&#x1F311',\n            '&#x1F312',\n            '&#x1F313',\n            '&#x1F314',\n            '&#x1F319',\n            '&#x1F30E',\n            '&#x1F30D',\n            '&#x1F30F',\n            '&#x1F4AB',\n            '&#x2B50',\n            '&#x1F31F',\n            '&#x26A1',\n            '&#x1F4A5',\n            '&#x1F525',\n            '&#x1F32A',\n            '&#x1F308',\n            '&#x1F324',\n            '&#x26C5',\n            '&#x1F325',\n            '&#x1F326',\n            '&#x1F327',\n            '&#x26C8',\n            '&#x1F329',\n            '&#x1F328',\n            '&#x26C4',\n            '&#x1F32C',\n            '&#x1F4A8',\n            '&#x1F4A7',\n            '&#x1F4A6',\n            '&#x1F30A',\n            '&#x1F32B',\n            '&#x1F34F',\n            '&#x1F34E',\n            '&#x1F350',\n            '&#x1F34A',\n            '&#x1F34B',\n            '&#x1F34C',\n            '&#x1F349',\n            '&#x1F347',\n            '&#x1F353',\n            '&#x1F348',\n            '&#x1F352',\n            '&#x1F351',\n            '&#x1F96D',\n            '&#x1F34D',\n            '&#x1F965',\n            '&#x1F95D',\n            '&#x1F345',\n            '&#x1F346',\n            '&#x1F951',\n            '&#x1F966',\n            '&#x1F96C',\n            '&#x1F952',\n            '&#x1F336',\n            '&#x1F33D',\n            '&#x1F955',\n            '&#x1F954',\n            '&#x1F360',\n            '&#x1F950',\n            '&#x1F35E',\n            '&#x1F956',\n            '&#x1F968',\n            '&#x1F96F',\n            '&#x1F9C0',\n            '&#x1F95A',\n            '&#x1F373',\n            '&#x1F95E',\n            '&#x1F953',\n            '&#x1F969',\n            '&#x1F357',\n            '&#x1F356',\n            '&#x1F32D',\n            '&#x1F354',\n            '&#x1F35F',\n            '&#x1F355',\n            '&#x1F96A',\n            '&#x1F959',\n            '&#x1F32E',\n            '&#x1F32F',\n            '&#x1F957',\n            '&#x1F958',\n            '&#x1F96B',\n            '&#x1F35D',\n            '&#x1F35C',\n            '&#x1F372',\n            '&#x1F35B',\n            '&#x1F363',\n            '&#x1F371',\n            '&#x1F364',\n            '&#x1F359',\n            '&#x1F35A',\n            '&#x1F358',\n            '&#x1F365',\n            '&#x1F960',\n            '&#x1F362',\n            '&#x1F361',\n            '&#x1F367',\n            '&#x1F368',\n            '&#x1F366',\n            '&#x1F967',\n            '&#x1F370',\n            '&#x1F382',\n            '&#x1F96E',\n            '&#x1F9C1',\n            '&#x1F36E',\n            '&#x1F36D',\n            '&#x1F36C',\n            '&#x1F36B',\n            '&#x1F37F',\n            '&#x1F9C2',\n            '&#x1F369',\n            '&#x1F95F',\n            '&#x1F36A',\n            '&#x1F330',\n            '&#x1F95C',\n            '&#x1F36F',\n            '&#x1F95B',\n            '&#x1F37C',\n            '&#x1F375',\n            '&#x1F964',\n            '&#x1F376',\n            '&#x1F37A',\n            '&#x1F37B',\n            '&#x1F942',\n            '&#x1F377',\n            '&#x1F943',\n            '&#x1F378',\n            '&#x1F379',\n            '&#x1F37E',\n            '&#x1F944',\n            '&#x1F374',\n            '&#x1F37D',\n            '&#x1F963',\n            '&#x1F961',\n            '&#x1F962',\n            '&#x1F600',\n            '&#x1F603',\n            '&#x1F604',\n            '&#x1F601',\n            '&#x1F606',\n            '&#x1F605',\n            '&#x1F602',\n            '&#x1F923',\n            '&#x263A',\n            '&#x1F60A',\n            '&#x1F607',\n            '&#x1F642',\n            '&#x1F643',\n            '&#x1F609',\n            '&#x1F60C',\n            '&#x1F60D',\n            '&#x1F618',\n            '&#x1F970',\n            '&#x1F617',\n            '&#x1F619',\n            '&#x1F61A',\n            '&#x1F60B',\n            '&#x1F61B',\n            '&#x1F61D',\n            '&#x1F61C',\n            '&#x1F92A',\n            '&#x1F928',\n            '&#x1F9D0',\n            '&#x1F913',\n            '&#x1F60E',\n            '&#x1F929',\n            '&#x1F973',\n            '&#x1F60F',\n            '&#x1F612',\n            '&#x1F61E',\n            '&#x1F614',\n            '&#x1F61F',\n            '&#x1F615',\n            '&#x1F641',\n            '&#x1F623',\n            '&#x1F616',\n            '&#x1F62B',\n            '&#x1F629',\n            '&#x1F622',\n            '&#x1F62D',\n            '&#x1F624',\n            '&#x1F620',\n            '&#x1F621',\n            '&#x1F92C',\n            '&#x1F92F',\n            '&#x1F633',\n            '&#x1F631',\n            '&#x1F628',\n            '&#x1F630',\n            '&#x1F975',\n            '&#x1F976',\n            '&#x1F97A',\n            '&#x1F625',\n            '&#x1F613',\n            '&#x1F917',\n            '&#x1F914',\n            '&#x1F92D',\n            '&#x1F92B',\n            '&#x1F925',\n            '&#x1F636',\n            '&#x1F610',\n            '&#x1F611',\n            '&#x1F62C',\n            '&#x1F644',\n            '&#x1F62F',\n            '&#x1F626',\n            '&#x1F627',\n            '&#x1F62E',\n            '&#x1F632',\n            '&#x1F634',\n            '&#x1F924',\n            '&#x1F62A',\n            '&#x1F635',\n            '&#x1F910',\n            '&#x1F974',\n            '&#x1F922',\n            '&#x1F92E',\n            '&#x1F927',\n            '&#x1F637',\n            '&#x1F912',\n            '&#x1F915',\n            '&#x1F911',\n            '&#x1F920',\n            '&#x1F608',\n            '&#x1F47F',\n            '&#x1F479',\n            '&#x1F47A',\n            '&#x1F921',\n            '&#x1F4A9',\n            '&#x1F47B',\n            '&#x1F480',\n            '&#x1F47D',\n            '&#x1F47E',\n            '&#x1F916',\n            '&#x1F383',\n            '&#x1F63A',\n            '&#x1F638',\n            '&#x1F639',\n            '&#x1F63B',\n            '&#x1F63C',\n            '&#x1F63D',\n            '&#x1F640',\n            '&#x1F63F',\n            '&#x1F63E',\n            '&#x1F932',\n            '&#x1F450',\n            '&#x1F64C',\n            '&#x1F44F',\n            '&#x1F91D',\n            '&#x1F44D',\n            '&#x1F44E',\n            '&#x1F44A',\n            '&#x270A',\n            '&#x1F91B',\n            '&#x1F91C',\n            '&#x1F91E',\n            '&#x270C',\n            '&#x1F91F',\n            '&#x1F918',\n            '&#x1F44C',\n            '&#x1F448',\n            '&#x1F449',\n            '&#x1F446',\n            '&#x1F447',\n            '&#x261D',\n            '&#x270B',\n            '&#x1F91A',\n            '&#x1F590',\n            '&#x1F596',\n            '&#x1F44B',\n            '&#x1F919',\n            '&#x1F4AA',\n            '&#x1F9B5',\n            '&#x1F9B6',\n            '&#x1F595',\n            '&#x270D',\n            '&#x1F64F',\n            '&#x1F48D',\n            '&#x1F484',\n            '&#x1F48B',\n            '&#x1F444',\n            '&#x1F445',\n            '&#x1F442',\n            '&#x1F443',\n            '&#x1F463',\n            '&#x1F440',\n            '&#x1F9E0',\n            '&#x1F9B4',\n            '&#x1F9B7',\n            '&#x1F5E3',\n            '&#x1F464',\n            '&#x1F465',\n            '&#x1F476',\n            '&#x1F467',\n            '&#x1F9D2',\n            '&#x1F466',\n            '&#x1F469',\n            '&#x1F9D1',\n            '&#x1F468',\n            '&#x1F471',\n            '&#x1F9D4',\n            '&#x1F475',\n            '&#x1F9D3',\n            '&#x1F474',\n            '&#x1F472',\n            '&#x1F473',\n            '&#x1F9D5',\n            '&#x1F46E',\n            '&#x1F477',\n            '&#x1F482',\n            '&#x1F575',\n            '&#x1F470',\n            '&#x1F935',\n            '&#x1F478',\n            '&#x1F934',\n            '&#x1F936',\n            '&#x1F385',\n            '&#x1F9B8',\n            '&#x1F9B9',\n            '&#x1F9D9',\n            '&#x1F9DD',\n            '&#x1F9DB',\n            '&#x1F9DF',\n            '&#x1F9DE',\n            '&#x1F9DC',\n            '&#x1F9DA',\n            '&#x1F47C',\n            '&#x1F930',\n            '&#x1F931',\n            '&#x1F647',\n            '&#x1F481',\n            '&#x1F645',\n            '&#x1F646',\n            '&#x1F64B',\n            '&#x1F926',\n            '&#x1F937',\n            '&#x1F64E',\n            '&#x1F64D',\n            '&#x1F487',\n            '&#x1F486',\n            '&#x1F9D6',\n            '&#x1F485',\n            '&#x1F933',\n            '&#x1F483',\n            '&#x1F57A',\n            '&#x1F46F',\n            '&#x1F574',\n            '&#x1F6B6',\n            '&#x1F3C3',\n            '&#x1F46B',\n            '&#x1F46D',\n            '&#x1F46C',\n            '&#x1F491',\n            '&#x1F48F',\n            '&#x1F46A',\n            '&#x1F9E5',\n            '&#x1F45A',\n            '&#x1F455',\n            '&#x1F456',\n            '&#x1F454',\n            '&#x1F457',\n            '&#x1F459',\n            '&#x1F458',\n            '&#x1F97C',\n            '&#x1F460',\n            '&#x1F461',\n            '&#x1F462',\n            '&#x1F45E',\n            '&#x1F45F',\n            '&#x1F97E',\n            '&#x1F97F',\n            '&#x1F9E6',\n            '&#x1F9E4',\n            '&#x1F9E3',\n            '&#x1F3A9',\n            '&#x1F9E2',\n            '&#x1F452',\n            '&#x1F393',\n            '&#x26D1',\n            '&#x1F451',\n            '&#x1F45D',\n            '&#x1F45B',\n            '&#x1F45C',\n            '&#x1F4BC',\n            '&#x1F392',\n            '&#x1F453',\n            '&#x1F576',\n            '&#x1F97D',\n            '&#x1F302',\n            '&#x1F9B0',\n            '&#x1F9B1',\n            '&#x1F9B3',\n            '&#x1F9B2',\n            '&#x1F1FF',\n            '&#x1F1FE',\n            '&#x1F1FD',\n            '&#x1F1FC',\n            '&#x1F1FB',\n            '&#x1F1FA',\n            '&#x1F1F9',\n            '&#x1F1F8',\n            '&#x1F1F7',\n            '&#x1F1F6',\n            '&#x1F1F5',\n            '&#x1F1F4',\n            '&#x1F1F3',\n            '&#x1F1F2',\n            '&#x1F1F1',\n            '&#x1F1F0',\n            '&#x1F1EF',\n            '&#x1F1EE',\n            '&#x1F1ED',\n            '&#x1F1EC',\n            '&#x1F1EB',\n            '&#x1F1EA',\n            '&#x1F1E9',\n            '&#x1F1E8',\n            '&#x1F1E7',\n            '&#x1F1E6',\n            '&#x1F697',\n            '&#x1F695',\n            '&#x1F699',\n            '&#x1F68C',\n            '&#x1F68E',\n            '&#x1F3CE',\n            '&#x1F693',\n            '&#x1F691',\n            '&#x1F692',\n            '&#x1F690',\n            '&#x1F69A',\n            '&#x1F69B',\n            '&#x1F69C',\n            '&#x1F6F4',\n            '&#x1F6B2',\n            '&#x1F6F5',\n            '&#x1F3CD',\n            '&#x1F6A8',\n            '&#x1F694',\n            '&#x1F68D',\n            '&#x1F698',\n            '&#x1F696',\n            '&#x1F6A1',\n            '&#x1F6A0',\n            '&#x1F69F',\n            '&#x1F683',\n            '&#x1F68B',\n            '&#x1F69E',\n            '&#x1F69D',\n            '&#x1F684',\n            '&#x1F685',\n            '&#x1F688',\n            '&#x1F682',\n            '&#x1F686',\n            '&#x1F687',\n            '&#x1F68A',\n            '&#x1F689',\n            '&#x1F6EB',\n            '&#x1F6EC',\n            '&#x1F6E9',\n            '&#x1F4BA',\n            '&#x1F9F3',\n            '&#x1F6F0',\n            '&#x1F680',\n            '&#x1F6F8',\n            '&#x1F681',\n            '&#x1F6F6',\n            '&#x26F5',\n            '&#x1F6A4',\n            '&#x1F6E5',\n            '&#x1F6F3',\n            '&#x26F4',\n            '&#x1F6A2',\n            '&#x26FD',\n            '&#x1F6A7',\n            '&#x1F6A6',\n            '&#x1F6A5',\n            '&#x1F68F',\n            '&#x1F5FA',\n            '&#x1F5FF',\n            '&#x1F5FD',\n            '&#x1F5FC',\n            '&#x1F3F0',\n            '&#x1F3EF',\n            '&#x1F3DF',\n            '&#x1F3A1',\n            '&#x1F3A2',\n            '&#x1F3A0',\n            '&#x26F2',\n            '&#x26F1',\n            '&#x1F3D6',\n            '&#x1F3DD',\n            '&#x1F3DC',\n            '&#x1F30B',\n            '&#x26F0',\n            '&#x1F3D4',\n            '&#x1F5FB',\n            '&#x1F3D5',\n            '&#x26FA',\n            '&#x1F3E0',\n            '&#x1F3E1',\n            '&#x1F3D8',\n            '&#x1F3DA',\n            '&#x1F3D7',\n            '&#x1F3ED',\n            '&#x1F3E2',\n            '&#x1F3EC',\n            '&#x1F3E3',\n            '&#x1F3E4',\n            '&#x1F3E5',\n            '&#x1F3E6',\n            '&#x1F3E8',\n            '&#x1F3EA',\n            '&#x1F3EB',\n            '&#x1F3E9',\n            '&#x1F492',\n            '&#x1F3DB',\n            '&#x26EA',\n            '&#x1F54C',\n            '&#x1F54D',\n            '&#x1F54B',\n            '&#x26E9',\n            '&#x1F6E4',\n            '&#x1F6E3',\n            '&#x1F5FE',\n            '&#x1F391',\n            '&#x1F3DE',\n            '&#x1F305',\n            '&#x1F304',\n            '&#x1F320',\n            '&#x1F387',\n            '&#x1F386',\n            '&#x1F9E8',\n            '&#x1F307',\n            '&#x1F306',\n            '&#x1F3D9',\n            '&#x1F303',\n            '&#x1F30C',\n            '&#x1F309',\n            '&#x1F512',\n            '&#x1F513',\n            '&#x1F301',\n            '&#x1F3F3',\n            '&#x1F3F4',\n            '&#x1F3C1',\n            '&#x1F6A9',\n            '&#x1F38C',\n            '&#x1F3FB',\n            '&#x1F3FC',\n            '&#x1F3FD',\n            '&#x1F3FE',\n            '&#x1F3FF'\n        ]\n    };\n\n    // Add all emoji in a dropdown\n    $.extend(true, $.trumbowyg, {\n        langs: {\n            // jshint camelcase:false\n            en: {\n                emoji: 'Add an emoji'\n            },\n            da: {\n                emoji: 'Tilføj et humørikon'\n            },\n            de: {\n                emoji: 'Emoticon einfügen'\n            },\n            fr: {\n                emoji: 'Ajouter un emoji'\n            },\n            zh_cn: {\n                emoji: '添加表情'\n            },\n            ru: {\n                emoji: 'Вставить emoji'\n            },\n            ja: {\n                emoji: '絵文字の挿入'\n            },\n            tr: {\n                emoji: 'Emoji ekle'\n            },\n            ko: {\n                emoji: '이모지 넣기'\n            },\n        },\n        // jshint camelcase:true\n        plugins: {\n            emoji: {\n                init: function (trumbowyg) {\n                    trumbowyg.o.plugins.emoji = trumbowyg.o.plugins.emoji || defaultOptions;\n                    var emojiBtnDef = {\n                        dropdown: buildDropdown(trumbowyg)\n                    };\n                    trumbowyg.addBtnDef('emoji', emojiBtnDef);\n                }\n            }\n        }\n    });\n\n    function buildDropdown(trumbowyg) {\n        var dropdown = [];\n\n        $.each(trumbowyg.o.plugins.emoji.emojiList, function (i, emoji) {\n            if ($.isArray(emoji)) { // Custom emoji behaviour\n                var emojiCode = emoji[0],\n                    emojiUrl = emoji[1],\n                    emojiHtml = '<img src=\"' + emojiUrl + '\" alt=\"' + emojiCode + '\">',\n                    customEmojiBtnName = 'emoji-' + emojiCode.replace(/:/g, ''),\n                    customEmojiBtnDef = {\n                        hasIcon: false,\n                        text: emojiHtml,\n                        fn: function () {\n                            trumbowyg.execCmd('insertImage', emojiUrl, false, true);\n                            return true;\n                        }\n                    };\n\n                trumbowyg.addBtnDef(customEmojiBtnName, customEmojiBtnDef);\n                dropdown.push(customEmojiBtnName);\n            } else { // Default behaviour\n                var btn = emoji.replace(/:/g, ''),\n                    defaultEmojiBtnName = 'emoji-' + btn,\n                    defaultEmojiBtnDef = {\n                        text: emoji,\n                        fn: function () {\n                            var encodedEmoji = String.fromCodePoint(emoji.replace(\"&#\", \"0\"));\n                            trumbowyg.execCmd('insertText', encodedEmoji);\n                            return true;\n                        }\n                    };\n\n                trumbowyg.addBtnDef(defaultEmojiBtnName, defaultEmojiBtnDef);\n                dropdown.push(defaultEmojiBtnName);\n            }\n        });\n\n        return dropdown;\n    }\n})(jQuery);\n","/*/* ===========================================================\n * trumbowyg.history.js v1.0\n * history plugin for Trumbowyg\n * http://alex-d.github.com/Trumbowyg\n * ===========================================================\n * Author : Sven Dunemann [dunemann@forelabs.eu]\n */\n\n(function ($) {\n    'use strict';\n    $.extend(true, $.trumbowyg, {\n        langs: {\n            de: {\n                history: {\n                    redo: 'Wiederholen',\n                    undo: 'Rückgängig'\n                }\n            },\n            en: {\n                history: {\n                    redo: 'Redo',\n                    undo: 'Undo'\n                }\n            },\n            da: {\n                history: {\n                    redo: 'Annuller fortryd',\n                    undo: 'Fortryd'\n                }\n            },\n            fr: {\n                history: {\n                    redo: 'Annuler',\n                    undo: 'Rétablir'\n                }\n            },\n            zh_tw: {\n               history: {\n                   redo: '重做',\n                   undo: '復原'\n               }\n            },\n            pt_br: {\n                history: {\n                    redo: 'Refazer',\n                    undo: 'Desfazer'\n                }\n            },\n            ko: {\n                history: {\n                    redo: '다시 실행',\n                    undo: '되돌리기'\n                }\n            },\n        },\n        plugins: {\n            history: {\n                init: function (t) {\n                    t.o.plugins.history = $.extend(true, {\n                        _stack: [],\n                        _index: -1,\n                        _focusEl: undefined\n                    }, t.o.plugins.history || {});\n\n                    var btnBuildDefRedo = {\n                        title: t.lang.history.redo,\n                        ico: 'redo',\n                        key: 'Y',\n                        fn: function () {\n                            if (t.o.plugins.history._index < t.o.plugins.history._stack.length - 1) {\n                                t.o.plugins.history._index += 1;\n                                var index = t.o.plugins.history._index;\n                                var newState = t.o.plugins.history._stack[index];\n\n                                t.execCmd('html', newState);\n                                // because of some semantic optimisations we have to save the state back\n                                // to history\n                                t.o.plugins.history._stack[index] = t.$ed.html();\n\n                                carretToEnd();\n                                toggleButtonStates();\n                            }\n                        }\n                    };\n\n                    var btnBuildDefUndo = {\n                        title: t.lang.history.undo,\n                        ico: 'undo',\n                        key: 'Z',\n                        fn: function () {\n                            if (t.o.plugins.history._index > 0) {\n                                t.o.plugins.history._index -= 1;\n                                var index = t.o.plugins.history._index,\n                                    newState = t.o.plugins.history._stack[index];\n\n                                t.execCmd('html', newState);\n                                // because of some semantic optimisations we have to save the state back\n                                // to history\n                                t.o.plugins.history._stack[index] = t.$ed.html();\n\n                                carretToEnd();\n                                toggleButtonStates();\n                            }\n                        }\n                    };\n\n                    var pushToHistory = function () {\n                        var index = t.o.plugins.history._index,\n                            stack = t.o.plugins.history._stack,\n                            latestState = stack.slice(-1)[0] || '<p></p>',\n                            prevState = stack[index],\n                            newState = t.$ed.html(),\n                            focusEl = t.doc.getSelection().focusNode,\n                            focusElText = '',\n                            latestStateTagsList,\n                            newStateTagsList,\n                            prevFocusEl = t.o.plugins.history._focusEl;\n\n                        latestStateTagsList = $('<div>' + latestState + '</div>').find('*').map(function () {\n                            return this.localName;\n                        });\n                        newStateTagsList = $('<div>' + newState + '</div>').find('*').map(function () {\n                            return this.localName;\n                        });\n                        if (focusEl) {\n                            t.o.plugins.history._focusEl = focusEl;\n                            focusElText = focusEl.outerHTML || focusEl.textContent;\n                        }\n\n                        if (newState !== prevState) {\n                            // a new stack entry is defined when current insert ends on a whitespace character\n                            // or count of node elements has been changed\n                            // or focused element differs from previous one\n                            if (focusElText.slice(-1).match(/\\s/) ||\n                                !arraysAreIdentical(latestStateTagsList, newStateTagsList) ||\n                                t.o.plugins.history._index <= 0 || focusEl !== prevFocusEl)\n                            {\n                                t.o.plugins.history._index += 1;\n                                // remove newer entries in history when something new was added\n                                // because timeline was changes with interaction\n                                t.o.plugins.history._stack = stack.slice(\n                                    0, t.o.plugins.history._index\n                                );\n                                // now add new state to modified history\n                                t.o.plugins.history._stack.push(newState);\n                            } else {\n                                // modify last stack entry\n                                t.o.plugins.history._stack[index] = newState;\n                            }\n\n                            toggleButtonStates();\n                        }\n                    };\n\n                    var toggleButtonStates = function () {\n                        var index = t.o.plugins.history._index,\n                            stackSize = t.o.plugins.history._stack.length,\n                            undoState = (index > 0),\n                            redoState = (stackSize !== 0 && index !== stackSize - 1);\n\n                        toggleButtonState('historyUndo', undoState);\n                        toggleButtonState('historyRedo', redoState);\n                    };\n\n                    var toggleButtonState = function (btn, enable) {\n                        var button = t.$box.find('.trumbowyg-' + btn + '-button');\n\n                        if (enable) {\n                            button.removeClass('trumbowyg-disable');\n                        } else if (!button.hasClass('trumbowyg-disable')) {\n                            button.addClass('trumbowyg-disable');\n                        }\n                    };\n\n                    var arraysAreIdentical = function (a, b) {\n                        if (a === b) {\n                            return true;\n                        }\n                        if (a == null || b == null) {\n                            return false;\n                        }\n                        if (a.length !== b.length) {\n                            return false;\n                        }\n\n                        for (var i = 0; i < a.length; i += 1) {\n                            if (a[i] !== b[i]) {\n                                return false;\n                            }\n                        }\n                        return true;\n                    };\n\n                    var carretToEnd = function () {\n                        var node = t.doc.getSelection().focusNode,\n                            range = t.doc.createRange();\n\n                        if (node.childNodes.length > 0) {\n                            range.setStartAfter(node.childNodes[node.childNodes.length - 1]);\n                            range.setEndAfter(node.childNodes[node.childNodes.length - 1]);\n                            t.doc.getSelection().removeAllRanges();\n                            t.doc.getSelection().addRange(range);\n                        }\n                    };\n\n                    t.$c.on('tbwinit tbwchange', pushToHistory);\n\n                    t.addBtnDef('historyRedo', btnBuildDefRedo);\n                    t.addBtnDef('historyUndo', btnBuildDefUndo);\n                }\n            }\n        }\n    });\n})(jQuery);\n","/* ===========================================================\n * trumbowyg.cleanpaste.js v1.0\n * Font Clean paste plugin for Trumbowyg\n * http://alex-d.github.com/Trumbowyg\n * ===========================================================\n * Authors : Eric Radin\n *           Todd Graham (slackwalker)\n *\n * This plugin will perform a \"cleaning\" on any paste, in particular\n * it will clean pasted content of microsoft word document tags and classes.\n */\n\n(function ($) {\n    'use strict';\n\n    function checkValidTags(snippet) {\n        var theString = snippet;\n\n        // Replace uppercase element names with lowercase\n        theString = theString.replace(/<[^> ]*/g, function (match) {\n            return match.toLowerCase();\n        });\n\n        // Replace uppercase attribute names with lowercase\n        theString = theString.replace(/<[^>]*>/g, function (match) {\n            match = match.replace(/ [^=]+=/g, function (match2) {\n                return match2.toLowerCase();\n            });\n            return match;\n        });\n\n        // Put quotes around unquoted attributes\n        theString = theString.replace(/<[^>]*>/g, function (match) {\n            match = match.replace(/( [^=]+=)([^\"][^ >]*)/g, '$1\\\"$2\\\"');\n            return match;\n        });\n\n        return theString;\n    }\n\n    function cleanIt(html) {\n        // first make sure all tags and attributes are made valid\n        html = checkValidTags(html);\n\n        // Replace opening bold tags with strong\n        html = html.replace(/<b(\\s+|>)/g, '<strong$1');\n        // Replace closing bold tags with closing strong\n        html = html.replace(/<\\/b(\\s+|>)/g, '</strong$1');\n\n        // Replace italic tags with em\n        html = html.replace(/<i(\\s+|>)/g, '<em$1');\n        // Replace closing italic tags with closing em\n        html = html.replace(/<\\/i(\\s+|>)/g, '</em$1');\n\n        // strip out comments -cgCraft\n        html = html.replace(/<!(?:--[\\s\\S]*?--\\s*)?>\\s*/g, '');\n\n        // strip out &nbsp; -cgCraft\n        html = html.replace(/&nbsp;/gi, ' ');\n        // strip out extra spaces -cgCraft\n        html = html.replace(/ <\\//gi, '</');\n\n        // Remove multiple spaces\n        html.replace(/\\s+/g, ' ');\n\n        // strip &nbsp; -cgCraft\n        html = html.replace(/^\\s*|\\s*$/g, '');\n\n        // Strip out unaccepted attributes\n        html = html.replace(/<[^>]*>/g, function (match) {\n            match = match.replace(/ ([^=]+)=\"[^\"]*\"/g, function (match2, attributeName) {\n                if (['alt', 'href', 'src', 'title'].indexOf(attributeName) !== -1) {\n                    return match2;\n                }\n                return '';\n            });\n            return match;\n        });\n\n        // Final clean out for MS Word crud\n        html = html.replace(/<\\?xml[^>]*>/g, '');\n        html = html.replace(/<[^ >]+:[^>]*>/g, '');\n        html = html.replace(/<\\/[^ >]+:[^>]*>/g, '');\n\n        // remove unwanted tags\n        html = html.replace(/<(div|span|style|meta|link).*?>/gi, '');\n\n        return html;\n    }\n\n    // clean editor\n    // this will clean the inserted contents\n    // it does a compare, before and after paste to determine the\n    // pasted contents\n    $.extend(true, $.trumbowyg, {\n        plugins: {\n            cleanPaste: {\n                init: function (trumbowyg) {\n                    trumbowyg.pasteHandlers.push(function () {\n                        setTimeout(function () {\n                          try {\n                              trumbowyg.$ed.html(cleanIt(trumbowyg.$ed.html()));\n                          } catch (c) {\n                          }\n                        }, 0);\n                    });\n                }\n            }\n        }\n    });\n})(jQuery);\n","/* ===========================================================\n * trumbowyg.allowTagsFromPaste.js v1.0.2\n * It cleans tags from pasted text, whilst allowing several specified tags\n * http://alex-d.github.com/Trumbowyg\n * ===========================================================\n * Author\t: Fathi Anshory (0x00000F5C)\n * Twitter\t: @fscchannl\n * Notes:\n *  - removeformatPasted must be set to FALSE since it was applied prior to pasteHandlers, or else it will be useless\n *\t- It is most advisable to use along with the cleanpaste plugin, or else you'd end up with dirty markup\n */\n\n(function ($) {\n    'use strict';\n\n    var defaultOptions = {\n        // When empty, all tags are allowed making this plugin useless\n        // If you want to remove all tags, use removeformatPasted core option instead\n        allowedTags: [],\n        // List of tags which can be allowed\n        removableTags: [\n            'a',\n            'abbr',\n            'address',\n            'b',\n            'bdi',\n            'bdo',\n            'blockquote',\n            'br',\n            'cite',\n            'code',\n            'del',\n            'dfn',\n            'details',\n            'em',\n            'h1',\n            'h2',\n            'h3',\n            'h4',\n            'h5',\n            'h6',\n            'hr',\n            'i',\n            'ins',\n            'kbd',\n            'mark',\n            'meter',\n            'pre',\n            'progress',\n            'q',\n            'rp',\n            'rt',\n            'ruby',\n            's',\n            'samp',\n            'small',\n            'span',\n            'strong',\n            'sub',\n            'summary',\n            'sup',\n            'time',\n            'u',\n            'var',\n            'wbr',\n            'img',\n            'map',\n            'area',\n            'canvas',\n            'figcaption',\n            'figure',\n            'picture',\n            'audio',\n            'source',\n            'track',\n            'video',\n            'ul',\n            'ol',\n            'li',\n            'dl',\n            'dt',\n            'dd',\n            'table',\n            'caption',\n            'th',\n            'tr',\n            'td',\n            'thead',\n            'tbody',\n            'tfoot',\n            'col',\n            'colgroup',\n            'style',\n            'div',\n            'p',\n            'form',\n            'input',\n            'textarea',\n            'button',\n            'select',\n            'optgroup',\n            'option',\n            'label',\n            'fieldset',\n            'legend',\n            'datalist',\n            'keygen',\n            'output',\n            'iframe',\n            'link',\n            'nav',\n            'header',\n            'hgroup',\n            'footer',\n            'main',\n            'section',\n            'article',\n            'aside',\n            'dialog',\n            'script',\n            'noscript',\n            'embed',\n            'object',\n            'param'\n        ]\n    };\n\n    $.extend(true, $.trumbowyg, {\n        plugins: {\n            allowTagsFromPaste: {\n                init: function (trumbowyg) {\n                    // Force disable remove format pasted\n                    trumbowyg.o.removeformatPasted = false;\n\n                    if (!trumbowyg.o.plugins.allowTagsFromPaste) {\n                        return;\n                    }\n\n                    var allowedTags = trumbowyg.o.plugins.allowTagsFromPaste.allowedTags || defaultOptions.allowedTags;\n                    var removableTags = trumbowyg.o.plugins.allowTagsFromPaste.removableTags || defaultOptions.removableTags;\n\n                    if (allowedTags.length === 0) {\n                        return;\n                    }\n\n                    // Get list of tags to remove\n                    var tagsToRemove = $(removableTags).not(allowedTags).get();\n\n                    trumbowyg.pasteHandlers.push(function () {\n                        setTimeout(function () {\n                            var processNodes = trumbowyg.$ed.html();\n                            $.each(tagsToRemove, function (iterator, tagName) {\n                                processNodes = processNodes.replace(new RegExp('<\\\\/?' + tagName + '(\\\\s[^>]*)?>', 'gi'), '');\n                            });\n                            trumbowyg.$ed.html(processNodes);\n                        }, 0);\n                    });\n                }\n            }\n        }\n    });\n})(jQuery);\n","/* ===========================================================\n * trumbowyg.colors.js v1.2\n * Colors picker plugin for Trumbowyg\n * http://alex-d.github.com/Trumbowyg\n * ===========================================================\n * Author : Alexandre Demode (Alex-D)\n *          Twitter : @AlexandreDemode\n *          Website : alex-d.fr\n */\n\n(function ($) {\n    'use strict';\n\n    $.extend(true, $.trumbowyg, {\n        langs: {\n            // jshint camelcase:false\n            cs: {\n                foreColor: 'Barva textu',\n                backColor: 'Barva pozadí'\n            },\n            en: {\n                foreColor: 'Text color',\n                backColor: 'Background color',\n                foreColorRemove: 'Remove text color',\n                backColorRemove: 'Remove background color'\n            },\n            da: {\n                foreColor: 'Tekstfarve',\n                backColor: 'Baggrundsfarve'\n            },\n            fr: {\n                foreColor: 'Couleur du texte',\n                backColor: 'Couleur de fond',\n                foreColorRemove: 'Supprimer la couleur du texte',\n                backColorRemove: 'Supprimer la couleur de fond'\n            },\n            de: {\n                foreColor: 'Textfarbe',\n                backColor: 'Hintergrundfarbe'\n            },\n            nl: {\n                foreColor: 'Tekstkleur',\n                backColor: 'Achtergrondkleur'\n            },\n            sk: {\n                foreColor: 'Farba textu',\n                backColor: 'Farba pozadia'\n            },\n            zh_cn: {\n                foreColor: '文字颜色',\n                backColor: '背景颜色'\n            },\n            zh_tw: {\n                foreColor: '文字顏色',\n                backColor: '背景顏色'\n            },\n            ru: {\n                foreColor: 'Цвет текста',\n                backColor: 'Цвет выделения текста'\n            },\n            ja: {\n                foreColor: '文字色',\n                backColor: '背景色'\n            },\n            tr: {\n                foreColor: 'Yazı rengi',\n                backColor: 'Arkaplan rengi'\n            },\n            pt_br: {\n                foreColor: 'Cor de fonte',\n                backColor: 'Cor de fundo'\n            },\n            ko: {\n                foreColor: '글자색',\n                backColor: '배경색',\n                foreColorRemove: '글자색 지우기',\n                backColorRemove: '배경색 지우기'\n            },\n        }\n    });\n\n    // jshint camelcase:true\n\n\n    function hex(x) {\n        return ('0' + parseInt(x).toString(16)).slice(-2);\n    }\n\n    function colorToHex(rgb) {\n        if (rgb.search('rgb') === -1) {\n            return rgb.replace('#', '');\n        } else if (rgb === 'rgba(0, 0, 0, 0)') {\n            return 'transparent';\n        } else {\n            rgb = rgb.match(/^rgba?\\((\\d+),\\s*(\\d+),\\s*(\\d+)(?:,\\s*(\\d+))?\\)$/);\n            return hex(rgb[1]) + hex(rgb[2]) + hex(rgb[3]);\n        }\n    }\n\n    function colorTagHandler(element, trumbowyg) {\n        var tags = [];\n\n        if (!element.style) {\n            return tags;\n        }\n\n        // background color\n        if (element.style.backgroundColor !== '') {\n            var backColor = colorToHex(element.style.backgroundColor);\n            if (trumbowyg.o.plugins.colors.colorList.indexOf(backColor) >= 0) {\n                tags.push('backColor' + backColor);\n            } else {\n                tags.push('backColorFree');\n            }\n        }\n\n        // text color\n        var foreColor;\n        if (element.style.color !== '') {\n            foreColor = colorToHex(element.style.color);\n        } else if (element.hasAttribute('color')) {\n            foreColor = colorToHex(element.getAttribute('color'));\n        }\n        if (foreColor) {\n            if (trumbowyg.o.plugins.colors.colorList.indexOf(foreColor) >= 0) {\n                tags.push('foreColor' + foreColor);\n            } else {\n                tags.push('foreColorFree');\n            }\n        }\n\n        return tags;\n    }\n\n    var defaultOptions = {\n        colorList: [\n            'ffffff', '000000', 'eeece1', '1f497d', '4f81bd', 'c0504d', '9bbb59', '8064a2', '4bacc6', 'f79646', 'ffff00',\n            'f2f2f2', '7f7f7f', 'ddd9c3', 'c6d9f0', 'dbe5f1', 'f2dcdb', 'ebf1dd', 'e5e0ec', 'dbeef3', 'fdeada', 'fff2ca',\n            'd8d8d8', '595959', 'c4bd97', '8db3e2', 'b8cce4', 'e5b9b7', 'd7e3bc', 'ccc1d9', 'b7dde8', 'fbd5b5', 'ffe694',\n            'bfbfbf', '3f3f3f', '938953', '548dd4', '95b3d7', 'd99694', 'c3d69b', 'b2a2c7', 'b7dde8', 'fac08f', 'f2c314',\n            'a5a5a5', '262626', '494429', '17365d', '366092', '953734', '76923c', '5f497a', '92cddc', 'e36c09', 'c09100',\n            '7f7f7f', '0c0c0c', '1d1b10', '0f243e', '244061', '632423', '4f6128', '3f3151', '31859b', '974806', '7f6000'\n        ],\n        foreColorList: null, // fallbacks on colorList\n        backColorList: null, // fallbacks on colorList\n        allowCustomForeColor: true,\n        allowCustomBackColor: true,\n        displayAsList: false,\n    };\n\n    // Add all colors in two dropdowns\n    $.extend(true, $.trumbowyg, {\n        plugins: {\n            color: {\n                init: function (trumbowyg) {\n                    trumbowyg.o.plugins.colors = trumbowyg.o.plugins.colors || defaultOptions;\n                    var dropdownClass = trumbowyg.o.plugins.colors.displayAsList ? trumbowyg.o.prefix + 'dropdown--color-list' : '';\n\n                    var foreColorBtnDef = {\n                        dropdown: buildDropdown('foreColor', trumbowyg),\n                        dropdownClass: dropdownClass,\n                    },\n                    backColorBtnDef = {\n                        dropdown: buildDropdown('backColor', trumbowyg),\n                        dropdownClass: dropdownClass,\n                    };\n\n                    trumbowyg.addBtnDef('foreColor', foreColorBtnDef);\n                    trumbowyg.addBtnDef('backColor', backColorBtnDef);\n                },\n                tagHandler: colorTagHandler\n            }\n        }\n    });\n\n    function buildDropdown(fn, trumbowyg) {\n        var dropdown = [],\n            trumbowygColorOptions = trumbowyg.o.plugins.colors,\n            colorList = trumbowygColorOptions[fn + 'List'] || trumbowygColorOptions.colorList;\n\n        $.each(colorList, function (i, color) {\n            var btn = fn + color,\n                btnDef = {\n                    fn: fn,\n                    forceCss: true,\n                    hasIcon: false,\n                    text: trumbowyg.lang['#' + color] || ('#' + color),\n                    param: '#' + color,\n                    style: 'background-color: #' + color + ';'\n                };\n\n            if (trumbowygColorOptions.displayAsList && fn === 'foreColor') {\n                btnDef.style = 'color: #' + color + ' !important;';\n            }\n\n            trumbowyg.addBtnDef(btn, btnDef);\n            dropdown.push(btn);\n        });\n\n        // Remove color\n        var removeColorButtonName = fn + 'Remove',\n            removeColorBtnDef = {\n                fn: 'removeFormat',\n                hasIcon: false,\n                param: fn,\n                style: 'background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAG0lEQVQIW2NkQAAfEJMRmwBYhoGBYQtMBYoAADziAp0jtJTgAAAAAElFTkSuQmCC);'\n            };\n\n        if (trumbowygColorOptions.displayAsList) {\n            removeColorBtnDef.style = '';\n        }\n\n        trumbowyg.addBtnDef(removeColorButtonName, removeColorBtnDef);\n        dropdown.push(removeColorButtonName);\n\n        // Custom color\n        if (trumbowygColorOptions['allowCustom' + fn.charAt(0).toUpperCase() + fn.substr(1)]) {\n            // add free color btn\n            var freeColorButtonName = fn + 'Free',\n                freeColorBtnDef = {\n                    fn: function () {\n                        trumbowyg.openModalInsert(trumbowyg.lang[fn],\n                            {\n                                color: {\n                                    label: fn,\n                                    forceCss: true,\n                                    type: 'color',\n                                    value: '#FFFFFF'\n                                }\n                            },\n                            // callback\n                            function (values) {\n                                trumbowyg.execCmd(fn, values.color);\n                                return true;\n                            }\n                        );\n                    },\n                    hasIcon: false,\n                    text: '#',\n                    // style adjust for displaying the text\n                    style: 'text-indent: 0; line-height: 20px; padding: 0 5px;'\n                };\n\n            trumbowyg.addBtnDef(freeColorButtonName, freeColorBtnDef);\n            dropdown.push(freeColorButtonName);\n        }\n\n        return dropdown;\n    }\n})(jQuery);\n","\n\nexport const svgUp = `<svg width=\"18\" height=\"18\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 18 18\"\n                                 role=\"img\" aria-hidden=\"true\" focusable=\"false\">\n                                <polygon points=\"9,4.5 3.3,10.1 4.8,11.5 9,7.3 13.2,11.5 14.7,10.1 \"></polygon>\n                            </svg>`;\n\nexport const svgDown = `<svg width=\"18\" height=\"18\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 18 18\"\n                                 role=\"img\" aria-hidden=\"true\" focusable=\"false\">\n                                <polygon points=\"9,13.5 14.7,7.9 13.2,6.5 9,10.7 4.8,6.5 3.3,7.9 \"></polygon>\n                            </svg>`;\n\nexport const svgMove = `<svg width=\"18\" height=\"18\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 18 18\" role=\"img\"\n                             aria-hidden=\"true\" focusable=\"false\"><path\n                                    d=\"M13,8c0.6,0,1-0.4,1-1s-0.4-1-1-1s-1,0.4-1,1S12.4,8,13,8z M5,6C4.4,6,4,6.4,4,7s0.4,1,1,1s1-0.4,1-1S5.6,6,5,6z M5,10 c-0.6,0-1,0.4-1,1s0.4,1,1,1s1-0.4,1-1S5.6,10,5,10z M13,10c-0.6,0-1,0.4-1,1s0.4,1,1,1s1-0.4,1-1S13.6,10,13,10z M9,6 C8.4,6,8,6.4,8,7s0.4,1,1,1s1-0.4,1-1S9.6,6,9,6z M9,10c-0.6,0-1,0.4-1,1s0.4,1,1,1s1-0.4,1-1S9.6,10,9,10z\"></path></svg>`;","import {svgDown, svgMove, svgUp} from './icons';\n\nexport class ContentType{\n\n\tconstructor(){\n\t\tthis.$editor = $(\"<div></div>\").addClass(\"particle-content-type live-news-editor__item\");\n\t\tthis.$preview = $(\"<div></div>\").addClass(\"particle-content-type--preview\");\n\t}\n\n\teditor$(){\n\n\t\tif(!this.$editor.empty()) return this.$editor;\n\n\t\tthis.$toolbar = $(`\n                <div class=\"live-news-editor__toolbar\">\n                    <div class=\"live-news-editor__mover\">\n                        <button class=\"live-news-editor__up\">\n\n                            ${svgUp}\n                        </button>\n                        <span class=\"live-news-editor__handle\">\n                            ${svgMove}\n                        </span>\n                        <button class=\"live-news-editor__down\">\n                            ${svgDown}\n                        </button>\n                    </div>\n\n                </div>`);\n\t\tthis.$editor.append(this.$toolbar);\n\n\t\treturn this.$editor;\n\t}\n\n\tpreview$(){\n\t\treturn $(\"<p/>\").text(this.getValue());\n\t}\n\n\tsetValue(value){}\n\n\tgetValue(){\t}\n\n\tsetDisabled(isDisabled){\n\n\t}\n}\n\nContentType.prototype.slug = \"\";","import \"trumbowyg\";\nimport \"trumbowyg/plugins/emoji/trumbowyg.emoji\";\nimport \"trumbowyg/plugins/history/trumbowyg.history\";\nimport \"trumbowyg/plugins/cleanpaste/trumbowyg.cleanpaste\";\nimport \"trumbowyg/plugins/allowtagsfrompaste/trumbowyg.allowtagsfrompaste\";\nimport \"trumbowyg/plugins/colors/trumbowyg.colors\";\n\nimport {ContentType} from './content-type';\n\nexport class ContentType_HTML extends ContentType {\n\n    constructor($) {\n        super($);\n        this._tmp_val = \"\";\n    }\n\n    editor$() {\n        if (!this.$editor.empty()) return this.$editor;\n\n        this.$textarea = $(\"<textarea/>\").addClass(\"live-news-input__textarea\");\n        this.$editor.append(this.$textarea);\n        this.$textarea.trumbowyg(LiveNews.contentTypes.html);\n        if (this._tmp_val) {\n            this.setValue(this._tmp_val);\n        }\n\n        return this.$editor;\n    }\n\n    preview$() {\n        return $(\"<div></div>\").html(this.getValue());\n    }\n\n    getValue() {\n        return (this.$textarea) ? this.$textarea.trumbowyg('html') : this._tmp_val;\n    }\n\n    setValue(value) {\n        if (this.$textarea) {\n            this.$textarea.trumbowyg('html', value);\n        } else {\n            this._tmp_val = value;\n        }\n    }\n\n    setDisabled(isDisabled) {\n        if (isDisabled) {\n            this.$textarea.trumbowyg(\"disable\");\n        } else {\n            this.$textarea.trumbowyg(\"enable\");\n        }\n    }\n\n}\n\nContentType_HTML.prototype.slug = \"html\";","import {ContentType} from './content-type';\n\nexport class ContentType_Title extends ContentType{\n\n\tconstructor($){\n\t\tsuper($);\n\t\tthis._tmp_val = \"\";\n\t}\n\n\teditor$() {\n\t\tif(!this.$editor.empty()) return this.$editor;\n\n\t\t// super.editor$();\n\n\t\tconst val = this.getValue();\n\n\t\tthis.$content = $(\"<input />\")\n\t\t\t.addClass(\"live-news-input__input-text\")\n\t\t\t.attr(\"type\", \"text\")\n\t\t\t.attr(\"placeholder\", \"Titel (optional)\")\n\t\t\t.val(val);\n\t\tthis.$editor.append(this.$content);\n\t\treturn this.$editor;\n\t}\n\n\tpreview$() {\n\t\treturn $(\"<h3/>\").text(this.getValue());\n\t}\n\n\tsetValue(val){\n\t\tif(this.$content){\n\t\t\tthis.$content.val(val);\n\t\t}  else {\n\t\t\tthis._tmp_val = val;\n\t\t}\n\t}\n\n\tgetValue() {\n\t\treturn (this.$content)? this.$content.val(): this._tmp_val;\n\t}\n\n\tsetDisabled(isDisabled) {\n\t\tif(isDisabled){\n\t\t\tthis.$content.attr(\"disabled\", \"disabled\");\n\t\t} else {\n\t\t\tthis.$content.removeAttr(\"disabled\");\n\t\t}\n\n\t}\n\n}\n\nContentType_Title.prototype.slug = \"title\";","import {ContentType} from './content-type';\n\nexport class ContentType_Upload extends ContentType{\n\n\tconstructor($){\n\t\tsuper($);\n\t\tthis.val = \"\";\n\t\tthis.fetched_id = null;\n\t}\n\n\teditor$() {\n\t\tif(!this.$editor.empty()) return this.$editor;\n\n\t\tconst $content = $(\"<lable><strong>Bild (optional)</strong><br></lable>\");\n\t\tconst $input = $(\"<input />\")\n\t\t\t.addClass(\"live-news-input__input-file\")\n\t\t\t.attr(\"name\", \"file\")\n\t\t\t.attr(\"type\", \"file\")\n\t\t\t.attr(\"placeholder\", \"Bild (optional)\")\n\t\t\t.attr(\"accept\", \"image/x-png,image/gif,image/jpeg\")\n\t\t\t.appendTo($content);\n\n\t\tthis.$input = $input;\n\n\t\tconst $form = $(\"<form></form>\");\n\t\t$form.append($content);\n\n\t\t$form.on(\"submit\",(e)=>{\n\t\t\te.preventDefault();\n\t\t\tif($input.val() === \"\") return;\n\t\t\tthis.setFetchingImages(true);\n\t\t\tLiveNews.api.uploadAttachment(\n\t\t\t\t$form[0],\n\t\t\t\t()=>{\n\t\t\t\t\tthis.setUploadingImage(true);\n\t\t\t\t}).then((data)=>{\n\t\t\t\tthis.setUploadingImage(false);\n\t\t\t\tthis.setValue(data.attachment_id);\n\t\t\t});\n\t\t});\n\t\t$input.on(\"change\", ()=> $form.submit());\n\n\t\t// build ui\n\t\tthis.$editor.append($form);\n\t\tconst $wrapper = $(\"<div></div>\");\n\n\t\tthis.getEditorImg$().appendTo($wrapper.appendTo($form));\n\n\t\tthis.$delete = $(\"<button>Bild entfernen</button>\");\n\t\tthis.$delete.on(\"click\",(e)=>{\n\t\t\te.preventDefault();\n\t\t\tthis.setValue(\"\");\n\t\t});\n\t\t$wrapper.append(this.$delete);\n\t\tthis.updateDeleteButton();\n\n\t\treturn this.$editor;\n\t}\n\n\tsetFetchingImages(isFetching){\n\t\tthis.setFetchingImage(this.getEditorImg$(), isFetching);\n\t\tthis.setFetchingImage(this.getImg$(), isFetching);\n\t}\n\n\tsetFetchingImage($wrapper, isFetching){\n\t\tif(!$wrapper) return;\n\t\tif(isFetching){\n\t\t\t$wrapper.find(\".spinner\").addClass(\"is-active\");\n\t\t} else {\n\t\t\t$wrapper.find(\".spinner\").removeClass(\"is-active\");\n\t\t}\n\t}\n\tsetUploadingImage(isUploading){\n\t\tthis.setDisabled(isUploading);\n\t}\n\n\trenderImages(attachment){\n\t\tthis.renderImage(this.$img, attachment);\n\t\tthis.renderImage(this.$editorImg, attachment);\n\t}\n\n\trenderImage($imgWrapper, attachment){\n\t\tif(!$imgWrapper) return;\n\t\tif(attachment !== null && typeof attachment === typeof {}){\n\t\t\tif(attachment.media_details){\n\t\t\t\t$imgWrapper.show();\n\t\t\t\t$imgWrapper.find(\"img\").attr(\"src\", attachment.media_details.sizes.medium.source_url);\n\t\t\t} else {\n\t\t\t\t$imgWrapper.replaceWith(\"<p>🖼 Image lost!</p>\");\n\t\t\t}\n\t\t} else {\n\t\t\t$imgWrapper.hide();\n\t\t}\n\t}\n\n\tgetEditorImg$(){\n\t\tif(!this.$editorImg){\n\t\t\tthis.$editorImg = $(\"<div class='particle__content-type--upload'><span class='spinner'></span><img class='particle__img'/></div>\");\n\t\t}\n\t\tthis.fetchAttachment();\n\t\treturn this.$editorImg;\n\t}\n\n\tgetImg$(){\n\t\tif(!this.$img){\n\t\t\tthis.$img = $(\"<div class='particle__content-type--upload'><span class='spinner'></span><img class='particle__img'/></div>\");\n\t\t}\n\t\tthis.fetchAttachment();\n\t\treturn this.$img;\n\t}\n\n\tpreview$() {\n\t\treturn this.getImg$();\n\t}\n\n\tfetchAttachment(){\n\t\tif(\n\t\t\tthis.val === \"\"\n\t\t\t||\n\t\t\tthis.isFetching === true\n\t\t\t||\n\t\t\tthis.fetched_id === this.val\n\t\t) return;\n\n\t\tthis.isFetching = true;\n\t\tthis.setFetchingImages(true);\n\t\tLiveNews.api.fetchAttachment(this.val).then((attachment)=>{\n\t\t\tthis.isFetching = false;\n\t\t\tthis.fetched_id = this.val;\n\t\t\tthis.setFetchingImages(false);\n\t\t\tthis.renderImages(attachment)\n\t\t});\n\t}\n\n\tsetValue(attachment_id){\n\t\tthis.val = attachment_id;\n\t\t// clear file field\n\t\tif(this.$input) this.$input.val(\"\");\n\t\tif(attachment_id === \"\"){\n\t\t\tthis.renderImage(this.$editorImg, null);\n\t\t}\n\t\tthis.updateDeleteButton();\n\t\tthis.fetchAttachment();\n\t}\n\n\tgetValue() {\n\t\treturn this.val;\n\t}\n\n\tupdateDeleteButton(){\n\t\tthis.showDeleteImage(this.getValue() !== \"\");\n\t}\n\n\tshowDeleteImage(show){\n\t\tif(this.$delete){\n\t\t\tif(show) this.$delete.show();\n\t\t\telse if(!show) this.$delete.hide();\n\t\t}\n\t}\n\n\tsetDisabled(isDisabled) {\n\t\tif(isDisabled){\n\t\t\tthis.$input.attr(\"disabled\", \"disabled\");\n\t\t} else {\n\t\t\tthis.$input.removeAttr(\"disabled\");\n\t\t}\n\t}\n\n}\n\nContentType_Upload.prototype.slug = \"upload\";","import {adminApi} from './lib/api';\nimport {application} from './lib/application';\nimport {ContentType_HTML} from './lib/view/content-type--html';\nimport {ContentType_Title} from './lib/view/content-type--title';\nimport {ContentType_Upload} from './lib/view/content-type--upload';\n\n(function(config) {\n\n\twindow.LiveNews = config;\n\n\tconst api = adminApi(config);\n\twindow.LiveNews.api = api;\n\n\t// ugly fix. please give it down as an dependency\n\twindow.$ = jQuery;\n\n\tconst app = application(config, api, jQuery);\n\twindow.LiveNews.app = app;\n\n\tapp.contentTypeProvider.add(ContentType_Title.prototype.slug, ContentType_Title);\n\tapp.contentTypeProvider.add(ContentType_HTML.prototype.slug, ContentType_HTML);\n\tapp.contentTypeProvider.add(ContentType_Upload.prototype.slug, ContentType_Upload);\n\n\tapp.init();\n\n})(LiveNews);\n\n\n\n\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else {\n        window.location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}